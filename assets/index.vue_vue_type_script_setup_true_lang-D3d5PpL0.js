import{p as c,b8 as k,S as v,aA as C,_ as h}from"./index-DiGvuAxb.js";import{V}from"./vuedraggable.umd-f2FZsIjZ.js";import{a6 as w,o as j,f as q,K as z}from"./form-designer-drfGvdgz.js";import{k as I,l as $,m as p,G as A,H as e,z as l,E as D,u as i,v as r,q as E,y as G,C as H}from"./form-create-D7wT855o.js";const K={class:"mb-4px flex flex-col gap-4px border border-gray-2 border-rounded rounded border-solid p-8px"},R={class:"m--8px m-b-4px flex flex-row items-center justify-between p-8px",style:{"background-color":"var(--app-content-bg-color)"}},S=I({name:"Draggable",__name:"index",props:{modelValue:v().isRequired,emptyItem:k().def({}),limit:c.number.def(0),min:c.number.def(1)},emits:["update:modelValue"],setup(a,{emit:u}){const d=a,t=C(d,"modelValue",u),f=()=>t.value.push(z(d.emptyItem||{}));return(b,s)=>{const x=w,o=h,n=j,y=q;return p(),$(A,null,[e(x,{type:"info",size:"small"},{default:l(()=>s[0]||(s[0]=[D(" \u62D6\u52A8\u5DE6\u4E0A\u89D2\u7684\u5C0F\u5706\u70B9\u53EF\u5BF9\u5176\u6392\u5E8F ")])),_:1}),e(i(V),{list:i(t),"force-fallback":!0,animation:200,handle:".drag-icon",class:"m-t-8px","item-key":"index"},{item:l(({element:g,index:m})=>[r("div",K,[r("div",R,[e(n,{content:"\u62D6\u52A8\u6392\u5E8F"},{default:l(()=>[e(o,{icon:"ic:round-drag-indicator",class:"drag-icon cursor-move",style:{color:"#8a909c"}})]),_:1}),e(n,{content:"\u5220\u9664"},{default:l(()=>[i(t).length>a.min?(p(),G(o,{key:0,icon:"ep:delete",class:"cursor-pointer text-red-5",onClick:B=>(_=>t.value.splice(_,1))(m)},null,8,["onClick"])):H("",!0)]),_:2},1024)]),E(b.$slots,"default",{element:g,index:m})])]),_:3},8,["list"]),e(n,{disabled:a.limit<1,content:`\u6700\u591A\u6DFB\u52A0${a.limit}\u4E2A`},{default:l(()=>[e(y,{type:"primary",plain:"",class:"m-t-4px w-full",disabled:a.limit>0&&i(t).length>=a.limit,onClick:f},{default:l(()=>[e(o,{icon:"ep:plus"}),s[1]||(s[1]=r("span",null,"\u6DFB\u52A0",-1))]),_:1},8,["disabled"])]),_:1},8,["disabled","content"])],64)}}});export{S as _};
