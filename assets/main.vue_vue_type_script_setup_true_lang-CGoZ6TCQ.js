import{d as g,u as w}from"./index-DiGvuAxb.js";import{f as x}from"./index-YBGE2sI_.js";import{u as V}from"./tagsView-B3xQDSQ0.js";import{Q as _,x as y}from"./form-designer-drfGvdgz.js";import{k as b,P as k,r as A,e as j,y as u,m as i,z,l as C,G,$ as M,u as s}from"./form-create-D7wT855o.js";const P=b({name:"WxAccountSelect",__name:"main",emits:["change"],setup(Q,{emit:r}){const d=g(),{delView:c}=V(),{push:p,currentRoute:f}=w(),a=k({id:-1,name:""}),e=A([]),t=r,v=o=>{const n=e.value.find(m=>m.id===o);a.id&&(a.name=n?n.name:"",t("change",a.id,a.name))};return j(()=>{(async()=>{if(e.value=await x(),e.value.length==0)return d.error("\u672A\u914D\u7F6E\u516C\u4F17\u53F7\uFF0C\u8BF7\u5728\u3010\u516C\u4F17\u53F7\u7BA1\u7406 -> \u8D26\u53F7\u7BA1\u7406\u3011\u83DC\u5355\uFF0C\u8FDB\u884C\u914D\u7F6E"),c(s(f)),void await p({name:"MpAccount"});e.value.length>0&&(a.id=e.value[0].id,a.id&&(a.name=e.value[0].name,t("change",a.id,a.name)))})()}),(o,n)=>{const m=_,h=y;return i(),u(h,{modelValue:s(a).id,"onUpdate:modelValue":n[0]||(n[0]=l=>s(a).id=l),placeholder:"\u8BF7\u9009\u62E9\u516C\u4F17\u53F7",class:"!w-240px",onChange:v},{default:z(()=>[(i(!0),C(G,null,M(s(e),l=>(i(),u(m,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])}}});export{P as _};
