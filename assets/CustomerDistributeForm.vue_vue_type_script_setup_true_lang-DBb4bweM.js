import{a as j,d as q}from"./index-DiGvuAxb.js";import{_ as z}from"./Dialog.vue_vue_type_style_index_0_lang-WG3ZquOK.js";import{d as A}from"./index-CwL9yoSU.js";import{g as D}from"./index-BEHCTgo8.js";import{h as E,ai as G,x as H,Q as K,aj as P,f as Q}from"./form-designer-drfGvdgz.js";import{k as R,r as d,P as $,y as f,m,z as r,A as B,u as l,H as n,l as J,G as L,$ as M,E as c,h as N}from"./form-create-D7wT855o.js";const O=R({__name:"CustomerDistributeForm",emits:["success"],setup(S,{expose:w,emit:_}){const{t:T}=j(),y=q(),o=d(!1),t=d(!1),v=d([]),s=d({id:void 0,ownerUserId:void 0}),U=$({ownerUserId:[{required:!0,message:"\u8D1F\u8D23\u4EBA\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),i=d();w({open:async u=>{o.value=!0,I(),s.value.id=u,v.value=await D()}});const b=_,k=async()=>{if(i&&await i.value.validate()){t.value=!0;try{await A([s.value.id],s.value.ownerUserId),y.success("\u5206\u914D\u5BA2\u6237\u6210\u529F"),o.value=!1,b("success")}finally{t.value=!1}}},I=()=>{var u;s.value={id:void 0,ownerUserId:void 0},(u=i.value)==null||u.resetFields()};return(u,e)=>{const V=K,g=H,x=G,h=E,p=Q,C=z,F=P;return m(),f(C,{modelValue:l(o),"onUpdate:modelValue":e[2]||(e[2]=a=>N(o)?o.value=a:null),title:"\u5206\u914D\u5BA2\u6237"},{footer:r(()=>[n(p,{disabled:l(t),type:"primary",onClick:k},{default:r(()=>e[3]||(e[3]=[c("\u786E \u5B9A")])),_:1},8,["disabled"]),n(p,{onClick:e[1]||(e[1]=a=>o.value=!1)},{default:r(()=>e[4]||(e[4]=[c("\u53D6 \u6D88")])),_:1})]),default:r(()=>[B((m(),f(h,{ref_key:"formRef",ref:i,model:l(s),rules:l(U),"label-width":"100px"},{default:r(()=>[n(x,{label:"\u8D1F\u8D23\u4EBA",prop:"ownerUserId"},{default:r(()=>[n(g,{modelValue:l(s).ownerUserId,"onUpdate:modelValue":e[0]||(e[0]=a=>l(s).ownerUserId=a),class:"w-1/1"},{default:r(()=>[(m(!0),J(L,null,M(l(v),a=>(m(),f(V,{key:a.id,label:a.nickname,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[F,l(t)]])]),_:1},8,["modelValue"])}}});export{O as _};
