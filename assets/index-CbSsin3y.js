import{e as V,d as h,u as x}from"./index-DiGvuAxb.js";import{u as A}from"./tagsView-B3xQDSQ0.js";import{D as C}from"./index-4TQdK-Zm.js";import{D as G,P as I}from"./index-y2Iw13c9.js";import{_ as P}from"./DeviceDetailsHeader.vue_vue_type_script_setup_true_lang-DywEHhs7.js";import{_ as R}from"./DeviceDetailsInfo.vue_vue_type_script_setup_true_lang-CUvKE3Fq.js";import{_ as j}from"./DeviceDetailsModel.vue_vue_type_script_setup_true_lang-CD9t55xk.js";import{_ as q}from"./DeviceDetailsLog.vue_vue_type_script_setup_true_lang-CoMd7I1t.js";import{_ as z}from"./DeviceDetailsSimulator.vue_vue_type_script_setup_true_lang-KKUXr2_p.js";import{_ as H}from"./DeviceDetailConfig.vue_vue_type_script_setup_true_lang-B8PFb8-o.js";import{a0 as S,$ as W,j as E}from"./form-designer-drfGvdgz.js";import{k as K,r as s,e as U,u as e,l as Y,m as r,H as a,z as t,h as $,y as u,C as d,G as B}from"./form-create-D7wT855o.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-C0SI8VIx.js";import"./DeviceForm.vue_vue_type_script_setup_true_lang-DH8SL_fP.js";import"./Dialog.vue_vue_type_style_index_0_lang-WG3ZquOK.js";import"./index-DvyuJUgN.js";import"./DictTag.vue_vue_type_script_lang-CByQaegm.js";import"./color-BN7ZL7BD.js";import"./formatTime-DeTj2b0K.js";import"./DeviceDataDetail.vue_vue_type_script_setup_true_lang-BiUojWst.js";import"./index.vue_vue_type_script_setup_true_lang-BymgqOtI.js";import"./index-xRJmLA9g.js";import"./config-GFxGHtga.js";import"./DataDefinition.vue_vue_type_script_setup_true_lang-Cl50HVaN.js";const F=K({name:"IoTDeviceDetail",__name:"index",setup(J){const v=V(),b=h(),p=v.params.id,c=s(!0),m=s({}),l=s({}),o=s("info"),f=async()=>{c.value=!0;try{l.value=await C.getDevice(p),await g(l.value.productId)}finally{c.value=!1}},g=async y=>{m.value=await I.getProduct(y)},{delView:k}=A(),{currentRoute:w}=x();return U(async()=>{if(!p)return b.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u4EA7\u54C1\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void k(e(w));await f(),o.value=v.query.tab||"info"}),(y,n)=>{const i=W,D=S,T=E;return r(),Y(B,null,[a(P,{loading:e(c),product:e(m),device:e(l),onRefresh:n[0]||(n[0]=_=>f(e(p)))},null,8,["loading","product","device"]),a(T,null,{default:t(()=>[a(D,{modelValue:e(o),"onUpdate:modelValue":n[1]||(n[1]=_=>$(o)?o.value=_:null)},{default:t(()=>[a(i,{label:"\u8BBE\u5907\u4FE1\u606F",name:"info"},{default:t(()=>[e(o)==="info"?(r(),u(R,{key:0,product:e(m),device:e(l)},null,8,["product","device"])):d("",!0)]),_:1}),a(i,{label:"Topic \u5217\u8868"}),a(i,{label:"\u7269\u6A21\u578B\u6570\u636E",name:"model"},{default:t(()=>[e(o)==="model"?(r(),u(j,{key:0,product:e(m),device:e(l)},null,8,["product","device"])):d("",!0)]),_:1}),e(m).deviceType===e(G).GATEWAY?(r(),u(i,{key:0,label:"\u5B50\u8BBE\u5907\u7BA1\u7406"})):d("",!0),a(i,{label:"\u8BBE\u5907\u5F71\u5B50"}),a(i,{label:"\u8BBE\u5907\u65E5\u5FD7",name:"log"},{default:t(()=>[e(o)==="log"?(r(),u(q,{key:0,"device-key":e(l).deviceKey},null,8,["device-key"])):d("",!0)]),_:1}),a(i,{label:"\u6A21\u62DF\u8BBE\u5907",name:"simulator"},{default:t(()=>[e(o)==="simulator"?(r(),u(z,{key:0,product:e(m),device:e(l)},null,8,["product","device"])):d("",!0)]),_:1}),a(i,{label:"\u8BBE\u5907\u914D\u7F6E",name:"config"},{default:t(()=>[e(o)==="config"?(r(),u(H,{key:0,device:e(l),onSuccess:f},null,8,["device"])):d("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}});export{F as default};
