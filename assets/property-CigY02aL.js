import{_ as R}from"./ComponentContainerProperty-BZlpIrpU.js";import{aA as j,C as h,_ as D,Y as G}from"./index-DiGvuAxb.js";import{_ as H}from"./index-yWCJeqeg.js";import{e as T}from"./couponTemplate-BH0KUrpk.js";import{i as Y,h as $}from"./constants-C3gLHYOK.js";import{_ as q}from"./CouponSelect.vue_vue_type_script_setup_true_lang-CXeuEhe0.js";import{h as B,ac as J,a6 as K,ai as L,f as M,s as N,o as O,t as W,A as Q}from"./form-designer-drfGvdgz.js";import{k as X,r as g,b as Z,l as m,m as d,H as e,z as a,u as t,G as v,$ as ee,E as x,F as i,C as le,h as ae}from"./form-create-D7wT855o.js";import"./color-BN7ZL7BD.js";import"./Dialog.vue_vue_type_style_index_0_lang-WG3ZquOK.js";import"./index.vue_vue_type_script_setup_true_lang-BymgqOtI.js";import"./DictTag.vue_vue_type_script_lang-CByQaegm.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-C0SI8VIx.js";import"./formatter-hroZ_PAn.js";import"./formatTime-DeTj2b0K.js";const te={key:0},oe={key:1},ue={key:2},pe=X({name:"CouponCardProperty",__name:"property",props:{modelValue:{}},emits:["update:modelValue"],setup(C,{emit:w}){const o=j(C,"modelValue",w),n=g([]),b=g(),k=()=>{b.value.open()},U=()=>{o.value.couponIds=n.value.map(r=>r.id)};return Z(()=>o.value.couponIds,async()=>{var r;((r=o.value.couponIds)==null?void 0:r.length)>0&&(n.value=await T(o.value.couponIds))},{immediate:!0,deep:!0}),(r,u)=>{const V=K,s=D,I=M,p=L,y=J,c=W,f=O,P=N,z=G,_=H,E=Q,S=B,A=R;return d(),m(v,null,[e(A,{modelValue:t(o).style,"onUpdate:modelValue":u[6]||(u[6]=l=>t(o).style=l)},{default:a(()=>[e(S,{"label-width":"80px",model:t(o)},{default:a(()=>[e(y,{header:"\u4F18\u60E0\u5238\u5217\u8868",class:"property-group",shadow:"never"},{default:a(()=>[(d(!0),m(v,null,ee(t(n),(l,F)=>(d(),m("div",{key:F,class:"flex items-center justify-between"},[e(V,{size:"large",truncated:""},{default:a(()=>[x(i(l.name),1)]),_:2},1024),e(V,{type:"info",truncated:""},{default:a(()=>[l.usePrice>0?(d(),m("span",te,"\u6EE1"+i(t(h)(l.usePrice))+"\u5143\uFF0C",1)):le("",!0),l.discountType===t(Y).PRICE.type?(d(),m("span",oe," \u51CF"+i(t(h)(l.discountPrice))+"\u5143 ",1)):(d(),m("span",ue," \u6253"+i(l.discountPercent)+"\u6298 ",1))]),_:2},1024)]))),128)),e(p,{"label-width":"0"},{default:a(()=>[e(I,{onClick:k,type:"primary",plain:"",class:"m-t-8px w-full"},{default:a(()=>[e(s,{icon:"ep:plus",class:"mr-5px"}),u[8]||(u[8]=x(" \u6DFB\u52A0 "))]),_:1})]),_:1})]),_:1}),e(y,{header:"\u4F18\u60E0\u5238\u6837\u5F0F",class:"property-group",shadow:"never"},{default:a(()=>[e(p,{label:"\u5217\u6570",prop:"type"},{default:a(()=>[e(P,{modelValue:t(o).columns,"onUpdate:modelValue":u[0]||(u[0]=l=>t(o).columns=l)},{default:a(()=>[e(f,{class:"item",content:"\u4E00\u5217",placement:"bottom"},{default:a(()=>[e(c,{value:1},{default:a(()=>[e(s,{icon:"fluent:text-column-one-24-filled"})]),_:1})]),_:1}),e(f,{class:"item",content:"\u4E8C\u5217",placement:"bottom"},{default:a(()=>[e(c,{value:2},{default:a(()=>[e(s,{icon:"fluent:text-column-two-24-filled"})]),_:1})]),_:1}),e(f,{class:"item",content:"\u4E09\u5217",placement:"bottom"},{default:a(()=>[e(c,{value:3},{default:a(()=>[e(s,{icon:"fluent:text-column-three-24-filled"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"\u80CC\u666F\u56FE\u7247",prop:"bgImg"},{default:a(()=>[e(z,{modelValue:t(o).bgImg,"onUpdate:modelValue":u[1]||(u[1]=l=>t(o).bgImg=l),height:"80px",width:"100%",class:"min-w-160px"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u6587\u5B57\u989C\u8272",prop:"textColor"},{default:a(()=>[e(_,{modelValue:t(o).textColor,"onUpdate:modelValue":u[2]||(u[2]=l=>t(o).textColor=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u6309\u94AE\u80CC\u666F",prop:"button.bgColor"},{default:a(()=>[e(_,{modelValue:t(o).button.bgColor,"onUpdate:modelValue":u[3]||(u[3]=l=>t(o).button.bgColor=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u6309\u94AE\u6587\u5B57",prop:"button.color"},{default:a(()=>[e(_,{modelValue:t(o).button.color,"onUpdate:modelValue":u[4]||(u[4]=l=>t(o).button.color=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u95F4\u9694",prop:"space"},{default:a(()=>[e(E,{modelValue:t(o).space,"onUpdate:modelValue":u[5]||(u[5]=l=>t(o).space=l),max:100,min:0,"show-input":"","input-size":"small","show-input-controls":!1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(q,{ref_key:"couponSelectDialog",ref:b,"multiple-selection":t(n),"onUpdate:multipleSelection":u[7]||(u[7]=l=>ae(n)?n.value=l:null),"take-type":t($).USER.type,onChange:U},null,8,["multiple-selection","take-type"])],64)}}});export{pe as default};
