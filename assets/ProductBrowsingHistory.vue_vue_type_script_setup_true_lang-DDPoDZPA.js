import{V as m}from"./index-DiGvuAxb.js";import d from"./ProductItem-ibFt7DPP.js";import{b0 as g}from"./form-designer-drfGvdgz.js";import{k as y,r as l,P as v,c as f,l as k,m as u,$ as w,y as I,u as N,G as b}from"./form-create-D7wT855o.js";const p=i=>m.get({url:"/product/browse-history/page",params:i}),x=y({name:"ProductBrowsingHistory",__name:"ProductBrowsingHistory",setup(i,{expose:c}){const o=l([]),t=l(0),s=v({pageNo:1,pageSize:10,userId:0,userDeleted:!1}),n=f(()=>t.value>0&&Math.ceil(t.value/s.pageSize)===s.pageNo);return c({getHistoryList:async a=>{s.userId=a.userId;const r=await p(s);t.value=r.total,o.value=r.list},loadMore:async()=>{if(n.value)return;s.pageNo+=1;const a=await p(s);t.value=a.total,g(o.value,a.list)}}),(a,r)=>(u(!0),k(b,null,w(N(o),e=>(u(),I(d,{key:e.id,picUrl:e.picUrl,price:e.price,"sales-count":e.salesCount,"spu-id":e.spuId,stock:e.stock,title:e.spuName,class:"mb-10px"},null,8,["picUrl","price","sales-count","spu-id","stock","title"]))),128))}});export{x as _};
