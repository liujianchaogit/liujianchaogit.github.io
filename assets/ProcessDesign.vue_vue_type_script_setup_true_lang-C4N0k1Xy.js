import{a as o}from"./constants-C3gLHYOK.js";import{_ as c}from"./index.vue_vue_type_style_index_0_lang-CwM3zxJr.js";import{_ as k}from"./SimpleModelDesign.vue_vue_type_script_setup_true_lang-Bo39Qd88.js";import{k as f,ar as _,i as M,c as w,l as r,u as t,m as s,y as u,C as n,G as i,n as B}from"./form-create-D7wT855o.js";const P=f({__name:"ProcessDesign",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(p,{expose:y}){const e=_(p,"modelValue"),v=M("processData"),m=async a=>{if(a){const l={...e.value,bpmnXml:e.value.type===o.BPMN?a:null,simpleModel:e.value.type===o.BPMN?null:a};await B(),e.value=l}},d=w(()=>{var a,l;return!!((a=e.value)!=null&&a.key&&((l=e.value)!=null&&l.name))});return y({validate:async()=>{try{if(!v.value)throw new Error("\u8BF7\u8BBE\u8BA1\u6D41\u7A0B");return!0}catch(a){throw a}}}),(a,l)=>e.value.type===t(o).BPMN?(s(),r(i,{key:0},[t(d)?(s(),u(c,{key:0,"model-id":e.value.id,"model-key":e.value.key,"model-name":e.value.name,onSuccess:m},null,8,["model-id","model-key","model-name"])):n("",!0)],64)):(s(),r(i,{key:1},[t(d)?(s(),u(k,{key:0,"model-id":e.value.id,"model-key":e.value.key,"model-name":e.value.name,"start-user-ids":e.value.startUserIds,"start-dept-ids":e.value.startDeptIds,onSuccess:m},null,8,["model-id","model-key","model-name","start-user-ids","start-dept-ids"])):n("",!0)],64))}});export{P as _};
