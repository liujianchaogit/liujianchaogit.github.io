import{p as O,e as P,D as g,d as L,ar as N}from"./index-C1TKk8vI.js";import{g as S}from"./index-Dd4Z4fyY.js";import{D as q}from"./constants-IYPHa1Ih.js";import{r as n}from"./formRules-NkbEJCk0.js";import{h as U,w as X,q as Y,ai as z,Q as A,x as J}from"./form-designer-BpYekVAY.js";import{x as K,r as c,X as T,f as M,j as Q,E as o,F as r,u as e,y as d,O as p,z as b,a4 as _,K as B,L as C,M as D,J as G}from"./form-create-7GAbgMwl.js";const H=K({name:"ProductDeliveryForm",__name:"DeliveryForm",props:{propFormData:{type:Object,default:()=>{}},isDetail:O.bool.def(!1)},emits:["update:activeName"],setup(m,{expose:w,emit:E}){const V=L(),u=m,i=c(),l=T({deliveryTypes:[],deliveryTemplateId:void 0}),F=T({deliveryTypes:[n],deliveryTemplateId:[n]});M(()=>u.propFormData,s=>{s&&N(l,s)},{immediate:!0});const I=E;w({validate:async()=>{var s;if(i)try{await((s=e(i))==null?void 0:s.validate()),Object.assign(u.propFormData,l)}catch(t){throw V.error("\u3010\u7269\u6D41\u8BBE\u7F6E\u3011\u4E0D\u5B8C\u5584\uFF0C\u8BF7\u586B\u5199\u76F8\u5173\u4FE1\u606F"),I("update:activeName","delivery"),t}}});const y=c([]);return Q(async()=>{y.value=await S()}),(s,t)=>{const h=X,x=Y,v=z,k=A,R=J,j=U;return d(),o(j,{ref_key:"formRef",ref:i,model:e(l),rules:e(F),"label-width":"120px",disabled:m.isDetail},{default:r(()=>{var f;return[p(v,{label:"\u914D\u9001\u65B9\u5F0F",prop:"deliveryTypes"},{default:r(()=>[p(x,{modelValue:e(l).deliveryTypes,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).deliveryTypes=a),class:"w-80"},{default:r(()=>[(d(!0),b(D,null,_(e(P)(e(g).TRADE_DELIVERY_TYPE),a=>(d(),o(h,{key:a.value,value:a.value},{default:r(()=>[B(C(a.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),(f=e(l).deliveryTypes)!=null&&f.includes(e(q).EXPRESS.type)?(d(),o(v,{key:0,label:"\u8FD0\u8D39\u6A21\u677F",prop:"deliveryTemplateId"},{default:r(()=>[p(R,{placeholder:"\u8BF7\u9009\u62E9\u8FD0\u8D39\u6A21\u677F",modelValue:e(l).deliveryTemplateId,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).deliveryTemplateId=a),class:"w-80"},{default:r(()=>[(d(!0),b(D,null,_(e(y),a=>(d(),o(k,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):G("",!0)]}),_:1},8,["model","rules","disabled"])}}});export{H as _};
