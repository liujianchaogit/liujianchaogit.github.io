import{d as U,b as j}from"./index-C1TKk8vI.js";import{_ as q}from"./Dialog.vue_vue_type_style_index_0_lang-CB5cl-Ts.js";import{r as D}from"./comment-B7HIgZsG.js";import{k as E,ai as G,h as K,f as O,aj as P}from"./form-designer-BpYekVAY.js";import{x as R,r as n,X as S,y as p,E as c,F as o,O as i,u as l,K as f,G as X,l as z}from"./form-create-7GAbgMwl.js";const A=R({name:"ProductComment",__name:"ReplyForm",emits:["success"],setup(B,{expose:v,emit:y}){const _=U(),{t:C}=j(),t=n(!1),u=n(!1),s=n({id:void 0,replyContent:void 0}),b=S({replyContent:[{required:!0,message:"\u56DE\u590D\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),r=n();v({open:async a=>{k(),s.value.id=a,t.value=!0}});const x=y,V=async()=>{var a;if(await((a=r==null?void 0:r.value)==null?void 0:a.validate())){u.value=!0;try{await D(s.value),_.success(C("common.createSuccess")),t.value=!1,x("success")}finally{u.value=!1}}},k=()=>{var a;s.value={id:void 0,replyContent:void 0},(a=r.value)==null||a.resetFields()};return(a,e)=>{const w=G,F=K,m=O,g=q,h=P;return p(),c(g,{title:"\u56DE\u590D",modelValue:l(t),"onUpdate:modelValue":e[2]||(e[2]=d=>z(t)?t.value=d:null)},{footer:o(()=>[i(m,{onClick:V,type:"primary",disabled:l(u)},{default:o(()=>e[3]||(e[3]=[f("\u786E \u5B9A ")])),_:1},8,["disabled"]),i(m,{onClick:e[1]||(e[1]=d=>t.value=!1)},{default:o(()=>e[4]||(e[4]=[f("\u53D6 \u6D88")])),_:1})]),default:o(()=>[X((p(),c(F,{ref_key:"formRef",ref:r,model:l(s),rules:l(b),"label-width":"100px"},{default:o(()=>[i(w,{label:"\u56DE\u590D\u5185\u5BB9",prop:"replyContent"},{default:o(()=>[i(l(E),{type:"textarea",modelValue:l(s).replyContent,"onUpdate:modelValue":e[0]||(e[0]=d=>l(s).replyContent=d)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[h,l(u)]])]),_:1},8,["modelValue"])}}});export{A as _};
