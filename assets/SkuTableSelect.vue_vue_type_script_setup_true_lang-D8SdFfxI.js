import{p as T,d as C,G}from"./index-C1TKk8vI.js";import{_ as B}from"./Dialog.vue_vue_type_style_index_0_lang-CB5cl-Ts.js";import{g as E}from"./spu-75LBH-4N.js";import{_ as F,u as K,$ as L,ak as N,aj as O}from"./form-designer-BpYekVAY.js";import{x as $,r as p,j as q,f as z,y as w,E as _,F as a,G as A,u as s,O as t,l as h,K as c,L as b}from"./form-create-7GAbgMwl.js";const D=$({name:"SkuTableSelect",__name:"SkuTableSelect",props:{spuId:T.number.def(null)},emits:["change"],setup(g,{expose:y,emit:V}){const i=g;C();const f=p([]),m=p(!1),o=p(!1),r=p(),x=V;return y({open:()=>{o.value=!0}}),q(async()=>{}),z(()=>i.spuId,()=>{i.spuId&&(async()=>{m.value=!0;try{const v=await E(i.spuId);f.value=v.skus}finally{m.value=!1}})()}),(v,l)=>{const k=K,n=L,I=N,S=B,U=O;return w(),_(S,{modelValue:s(o),"onUpdate:modelValue":l[1]||(l[1]=e=>h(o)?o.value=e:null),appendToBody:!0,title:"\u9009\u62E9\u89C4\u683C",width:"700"},{default:a(()=>[A((w(),_(s(F),{data:s(f),"show-overflow-tooltip":""},{default:a(()=>[t(n,{label:"#",width:"55"},{default:a(({row:e})=>[t(k,{value:e.id,modelValue:s(r),"onUpdate:modelValue":l[0]||(l[0]=u=>h(r)?r.value=u:null),onChange:u=>(d=>{x("change",d),o.value=!1,r.value=void 0})(e)},{default:a(()=>l[2]||(l[2]=[c("\xA0 ")])),_:2},1032,["value","modelValue","onChange"])]),_:1}),t(n,{label:"\u56FE\u7247","min-width":"80"},{default:a(({row:e})=>[t(I,{src:e.picUrl,class:"h-30px w-30px","preview-src-list":[e.picUrl],"preview-teleported":""},null,8,["src","preview-src-list"])]),_:1}),t(n,{label:"\u89C4\u683C",align:"center","min-width":"80"},{default:a(({row:e})=>{var u,d;return[c(b((d=(u=e.properties)==null?void 0:u.map(j=>j.valueName))==null?void 0:d.join(" ")),1)]}),_:1}),t(n,{align:"center",label:"\u9500\u552E\u4EF7(\u5143)","min-width":"80"},{default:a(({row:e})=>[c(b(s(G)(e.price)),1)]),_:1})]),_:1},8,["data"])),[[U,s(m)]])]),_:1},8,["modelValue"])}}});export{D as _};
