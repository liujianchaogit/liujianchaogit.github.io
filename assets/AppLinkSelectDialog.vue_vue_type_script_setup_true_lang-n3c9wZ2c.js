import{b9 as q}from"./index-C1TKk8vI.js";import{_ as z}from"./Dialog.vue_vue_type_style_index_0_lang-CB5cl-Ts.js";import{_ as F}from"./ProductCategorySelect.vue_vue_type_script_setup_true_lang-hov9NPFT.js";import{ba as V,f as J,e as Q,o as W,ai as X,h as Z}from"./form-designer-BpYekVAY.js";import{x as aa,r as u,y as d,z as f,O as r,F as o,K as I,C as N,M as v,a4 as x,u as n,E as O,H as ea,L as k,l as ta,J as pa,n as sa}from"./form-create-7GAbgMwl.js";var D=(e=>(e[e.ACTIVITY_COMBINATION=0]="ACTIVITY_COMBINATION",e[e.ACTIVITY_SECKILL=1]="ACTIVITY_SECKILL",e[e.ACTIVITY_POINT=2]="ACTIVITY_POINT",e[e.ARTICLE_DETAIL=3]="ARTICLE_DETAIL",e[e.COUPON_DETAIL=4]="COUPON_DETAIL",e[e.DIY_PAGE_DETAIL=5]="DIY_PAGE_DETAIL",e[e.PRODUCT_CATEGORY_LIST=6]="PRODUCT_CATEGORY_LIST",e[e.PRODUCT_LIST=7]="PRODUCT_LIST",e[e.PRODUCT_DETAIL_NORMAL=8]="PRODUCT_DETAIL_NORMAL",e[e.PRODUCT_DETAIL_COMBINATION=9]="PRODUCT_DETAIL_COMBINATION",e[e.PRODUCT_DETAIL_SECKILL=10]="PRODUCT_DETAIL_SECKILL",e))(D||{});const C=[{name:"\u5546\u57CE",links:[{name:"\u9996\u9875",path:"/pages/index/index"},{name:"\u5546\u54C1\u5206\u7C7B",path:"/pages/index/category",type:6},{name:"\u8D2D\u7269\u8F66",path:"/pages/index/cart"},{name:"\u4E2A\u4EBA\u4E2D\u5FC3",path:"/pages/index/user"},{name:"\u5546\u54C1\u641C\u7D22",path:"/pages/index/search"},{name:"\u81EA\u5B9A\u4E49\u9875\u9762",path:"/pages/index/page",type:5},{name:"\u5BA2\u670D",path:"/pages/chat/index"},{name:"\u7CFB\u7EDF\u8BBE\u7F6E",path:"/pages/public/setting"},{name:"\u5E38\u89C1\u95EE\u9898",path:"/pages/public/faq"}]},{name:"\u5546\u54C1",links:[{name:"\u5546\u54C1\u5217\u8868",path:"/pages/goods/list",type:7},{name:"\u5546\u54C1\u8BE6\u60C5",path:"/pages/goods/index",type:8},{name:"\u62FC\u56E2\u5546\u54C1\u8BE6\u60C5",path:"/pages/goods/groupon",type:9},{name:"\u79D2\u6740\u5546\u54C1\u8BE6\u60C5",path:"/pages/goods/seckill",type:10}]},{name:"\u8425\u9500\u6D3B\u52A8",links:[{name:"\u62FC\u56E2\u8BA2\u5355",path:"/pages/activity/groupon/order"},{name:"\u8425\u9500\u5546\u54C1",path:"/pages/activity/index"},{name:"\u62FC\u56E2\u6D3B\u52A8",path:"/pages/activity/groupon/list",type:0},{name:"\u79D2\u6740\u6D3B\u52A8",path:"/pages/activity/seckill/list",type:1},{name:"\u79EF\u5206\u5546\u57CE\u6D3B\u52A8",path:"/pages/activity/point/list",type:2},{name:"\u7B7E\u5230\u4E2D\u5FC3",path:"/pages/app/sign"},{name:"\u4F18\u60E0\u5238\u4E2D\u5FC3",path:"/pages/coupon/list"},{name:"\u4F18\u60E0\u5238\u8BE6\u60C5",path:"/pages/coupon/detail",type:4},{name:"\u6587\u7AE0\u8BE6\u60C5",path:"/pages/public/richtext",type:3}]},{name:"\u5206\u9500\u5546\u57CE",links:[{name:"\u5206\u9500\u4E2D\u5FC3",path:"/pages/commission/index"},{name:"\u63A8\u5E7F\u5546\u54C1",path:"/pages/commission/goods"},{name:"\u5206\u9500\u8BA2\u5355",path:"/pages/commission/order"},{name:"\u6211\u7684\u56E2\u961F",path:"/pages/commission/team"}]},{name:"\u652F\u4ED8",links:[{name:"\u5145\u503C\u4F59\u989D",path:"/pages/pay/recharge"},{name:"\u5145\u503C\u8BB0\u5F55",path:"/pages/pay/recharge-log"}]},{name:"\u7528\u6237\u4E2D\u5FC3",links:[{name:"\u7528\u6237\u4FE1\u606F",path:"/pages/user/info"},{name:"\u7528\u6237\u8BA2\u5355",path:"/pages/order/list"},{name:"\u552E\u540E\u8BA2\u5355",path:"/pages/order/aftersale/list"},{name:"\u5546\u54C1\u6536\u85CF",path:"/pages/user/goods-collect"},{name:"\u6D4F\u89C8\u8BB0\u5F55",path:"/pages/user/goods-log"},{name:"\u5730\u5740\u7BA1\u7406",path:"/pages/user/address/list"},{name:"\u7528\u6237\u4F63\u91D1",path:"/pages/user/wallet/commission"},{name:"\u7528\u6237\u4F59\u989D",path:"/pages/user/wallet/money"},{name:"\u7528\u6237\u79EF\u5206",path:"/pages/user/wallet/score"}]}],la={class:"h-500px flex gap-8px"},na=aa({name:"AppLinkSelectDialog",__name:"AppLinkSelectDialog",emits:["change","appLinkChange"],setup(e,{expose:Y,emit:w}){const h=u(C[0].name),i=u({}),g=u(!1);Y({open:t=>{i.value.path=t,g.value=!0;const a=C.find(s=>s.links.some(l=>{const c=L(l.path,t);return c&&(i.value={...l,path:t}),c}));a&&sa(()=>P(a.name))}});const E=w,M=()=>{g.value=!1,E("change",i.value.path),E("appLinkChange",i.value)},y=u([]),B=({scrollTop:t})=>{const a=y.value.find(s=>{const{offsetHeight:l,offsetTop:c}=s;return t>=c&&t<c+l});a&&h.value!==a.textContent&&(h.value=a.textContent||"",G(h.value))},R=u(),P=t=>{var s;h.value=t;const a=y.value.find(l=>l.textContent===t);a&&((s=R.value)==null||s.setScrollTop(a.offsetTop))},U=u(),b=u([]),G=t=>{var s;const a=b.value.map(l=>l.ref).find(l=>l.textContent===t);a&&((s=U.value)==null||s.setScrollTop(a.offsetTop))},L=(t,a)=>V(t,"?",1)[0]===V(a,"?",1)[0],m=u({visible:!1,id:void 0,type:void 0}),K=t=>{const a=new URL(i.value.path,"http://127.0.0.1");a.searchParams.set("id",`${t}`),i.value.path=`${a.pathname}${a.search}`,m.value.visible=!1,m.value.id=void 0};return(t,a)=>{const s=J,l=Q,c=W,S=z,$=X,H=Z;return d(),f(v,null,[r(S,{modelValue:n(g),"onUpdate:modelValue":a[1]||(a[1]=p=>ta(g)?g.value=p:null),title:"\u9009\u62E9\u94FE\u63A5",width:"65%"},{footer:o(()=>[r(s,{type:"primary",onClick:M},{default:o(()=>a[4]||(a[4]=[I("\u786E \u5B9A")])),_:1}),r(s,{onClick:a[0]||(a[0]=p=>g.value=!1)},{default:o(()=>a[5]||(a[5]=[I("\u53D6 \u6D88")])),_:1})]),default:o(()=>[N("div",la,[r(l,{"wrap-class":"h-full",ref_key:"groupScrollbar",ref:U,"view-class":"flex flex-col"},{default:o(()=>[(d(!0),f(v,null,x(n(C),(p,A)=>(d(),O(s,{key:A,class:ea(["m-r-16px m-l-0px! justify-start! w-90px",{active:n(h)===p.name}]),ref_for:!0,ref_key:"groupBtnRefs",ref:b,text:n(h)!==p.name,type:n(h)===p.name?"primary":"default",onClick:T=>P(p.name)},{default:o(()=>[I(k(p.name),1)]),_:2},1032,["class","text","type","onClick"]))),128))]),_:1},512),r(l,{class:"h-full flex-1",onScroll:B,ref_key:"linkScrollbar",ref:R},{default:o(()=>[(d(!0),f(v,null,x(n(C),(p,A)=>(d(),f("div",{key:A},[N("div",{class:"font-bold",ref_for:!0,ref_key:"groupTitleRefs",ref:y},k(p.name),513),(d(!0),f(v,null,x(p.links,(T,j)=>(d(),O(c,{key:j,content:T.path,placement:"bottom","show-after":300},{default:o(()=>[r(s,{class:"m-b-8px m-r-8px m-l-0px!",type:L(T.path,n(i).path)?"primary":"default",onClick:oa=>(_=>{L(_.path,i.value.path)||(i.value=_),_.type===D.PRODUCT_CATEGORY_LIST&&(m.value.visible=!0,m.value.type=_.type,m.value.id=q("id","http://127.0.0.1"+i.value.path)||void 0)})(T)},{default:o(()=>[I(k(T.name),1)]),_:2},1032,["type","onClick"])]),_:2},1032,["content"]))),128))]))),128))]),_:1},512)])]),_:1},8,["modelValue"]),r(S,{modelValue:n(m).visible,"onUpdate:modelValue":a[3]||(a[3]=p=>n(m).visible=p),title:"",width:"50%"},{default:o(()=>[r(H,{class:"min-h-200px"},{default:o(()=>[n(m).type===n(D).PRODUCT_CATEGORY_LIST?(d(),O($,{key:0,label:"\u9009\u62E9\u5206\u7C7B"},{default:o(()=>[r(F,{modelValue:n(m).id,"onUpdate:modelValue":[a[2]||(a[2]=p=>n(m).id=p),K],"parent-id":0},null,8,["modelValue"])]),_:1})):pa("",!0)]),_:1})]),_:1},8,["modelValue"])],64)}}});export{na as _};
