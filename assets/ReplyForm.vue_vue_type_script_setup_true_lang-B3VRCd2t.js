import{d as R,a as U}from"./index-DiGvuAxb.js";import{_ as q}from"./Dialog.vue_vue_type_style_index_0_lang-WG3ZquOK.js";import{r as j}from"./comment-BtWCiiNG.js";import{h as z,ai as A,k as E,aj as H,f as P}from"./form-designer-drfGvdgz.js";import{k as S,r as m,P as B,y as p,m as c,z as s,A as D,u as l,H as n,E as f,h as G}from"./form-create-D7wT855o.js";const I=S({name:"ProductComment",__name:"ReplyForm",emits:["success"],setup(J,{expose:v,emit:y}){const _=R(),{t:C}=U(),t=m(!1),u=m(!1),o=m({id:void 0,replyContent:void 0}),V=B({replyContent:[{required:!0,message:"\u56DE\u590D\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),r=m();v({open:async a=>{g(),o.value.id=a,t.value=!0}});const b=y,k=async()=>{var a;if(await((a=r==null?void 0:r.value)==null?void 0:a.validate())){u.value=!0;try{await j(o.value),_.success(C("common.createSuccess")),t.value=!1,b("success")}finally{u.value=!1}}},g=()=>{var a;o.value={id:void 0,replyContent:void 0},(a=r.value)==null||a.resetFields()};return(a,e)=>{const x=A,h=z,i=P,w=q,F=H;return c(),p(w,{title:"\u56DE\u590D",modelValue:l(t),"onUpdate:modelValue":e[2]||(e[2]=d=>G(t)?t.value=d:null)},{footer:s(()=>[n(i,{onClick:k,type:"primary",disabled:l(u)},{default:s(()=>e[3]||(e[3]=[f("\u786E \u5B9A ")])),_:1},8,["disabled"]),n(i,{onClick:e[1]||(e[1]=d=>t.value=!1)},{default:s(()=>e[4]||(e[4]=[f("\u53D6 \u6D88")])),_:1})]),default:s(()=>[D((c(),p(h,{ref_key:"formRef",ref:r,model:l(o),rules:l(V),"label-width":"100px"},{default:s(()=>[n(x,{label:"\u56DE\u590D\u5185\u5BB9",prop:"replyContent"},{default:s(()=>[n(l(E),{type:"textarea",modelValue:l(o).replyContent,"onUpdate:modelValue":e[0]||(e[0]=d=>l(o).replyContent=d)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[F,l(u)]])]),_:1},8,["modelValue"])}}});export{I as _};
