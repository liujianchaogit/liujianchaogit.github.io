import{u as $,a2 as g,D as m,G as B,K as J,_ as Z}from"./index-C1TKk8vI.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-CrL0kGRz.js";import{_ as ae}from"./DictTag.vue_vue_type_script_lang-B3VNccaT.js";import{_ as le}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CXvvgLEc.js";import{_ as te}from"./index-BhsNgP9o.js";import{x as re,r as v,X as ue,j as oe,y as s,z as c,O as a,F as r,u as l,a5 as S,M as f,a4 as w,E as _,K as T,G as se,L as b,C as x}from"./form-create-7GAbgMwl.js";import{e as ne}from"./index-CTQESH3C.js";import{f as pe}from"./formatTime-EbFUBcAO.js";import{K as ie,k as de,ai as me,Q as ce,x as fe,F as _e,f as be,h as ye,a0 as ve,a1 as we,$ as Te,ak as Ae,a6 as he,_ as Ve,aj as ge}from"./form-designer-BpYekVAY.js";import"./color-BN7ZL7BD.js";const xe={class:"flex items-center"},Ee={class:"mr-10px"},ke=re({name:"TradeAfterSale",__name:"index",setup(Ne){const{push:U}=$(),E=v(!0),D=v(0),R=v([]),C=v([{label:"\u5168\u90E8",value:"0"}]),F=v(),u=ue({pageNo:1,pageSize:10,no:null,status:"0",orderNo:null,spuName:null,createTime:[],way:null,type:null}),A=async()=>{E.value=!0;try{const o=ie(u);o.status==="0"&&delete o.status;const t=await ne(o);R.value=t.list,D.value=t.total}finally{E.value=!1}},y=async()=>{u.pageNo=1,await A()},P=()=>{var o;(o=F.value)==null||o.resetFields(),y()},z=async o=>{u.status=o.paneName,await A()};return oe(async()=>{await A();for(const o of g(m.TRADE_AFTER_SALE_STATUS))C.value.push({label:o.label,value:o.value})}),(o,t)=>{const M=te,k=de,p=me,h=ce,N=fe,O=_e,L=Z,V=be,j=ye,Y=le,G=ve,H=we,n=Te,I=Ae,W=he,K=ae,q=Ve,Q=ee,X=ge;return s(),c(f,null,[a(M,{title:"\u3010\u4EA4\u6613\u3011\u552E\u540E\u9000\u6B3E",url:"https://doc.iocoder.cn/mall/trade-aftersale/"}),a(Y,null,{default:r(()=>[a(j,{ref_key:"queryFormRef",ref:F,inline:!0,model:l(u),"label-width":"68px"},{default:r(()=>[a(p,{label:"\u5546\u54C1\u540D\u79F0",prop:"spuName"},{default:r(()=>[a(k,{modelValue:l(u).spuName,"onUpdate:modelValue":t[0]||(t[0]=e=>l(u).spuName=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1 SPU \u540D\u79F0",onKeyup:S(y,["enter"])},null,8,["modelValue"])]),_:1}),a(p,{label:"\u9000\u6B3E\u7F16\u53F7",prop:"no"},{default:r(()=>[a(k,{modelValue:l(u).no,"onUpdate:modelValue":t[1]||(t[1]=e=>l(u).no=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u9000\u6B3E\u7F16\u53F7",onKeyup:S(y,["enter"])},null,8,["modelValue"])]),_:1}),a(p,{label:"\u8BA2\u5355\u7F16\u53F7",prop:"orderNo"},{default:r(()=>[a(k,{modelValue:l(u).orderNo,"onUpdate:modelValue":t[2]||(t[2]=e=>l(u).orderNo=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u7F16\u53F7",onKeyup:S(y,["enter"])},null,8,["modelValue"])]),_:1}),a(p,{label:"\u552E\u540E\u72B6\u6001",prop:"status"},{default:r(()=>[a(N,{modelValue:l(u).status,"onUpdate:modelValue":t[3]||(t[3]=e=>l(u).status=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u552E\u540E\u72B6\u6001"},{default:r(()=>[a(h,{label:"\u5168\u90E8",value:"0"}),(s(!0),c(f,null,w(l(g)(l(m).TRADE_AFTER_SALE_STATUS),e=>(s(),_(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(p,{label:"\u552E\u540E\u65B9\u5F0F",prop:"way"},{default:r(()=>[a(N,{modelValue:l(u).way,"onUpdate:modelValue":t[4]||(t[4]=e=>l(u).way=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u552E\u540E\u65B9\u5F0F"},{default:r(()=>[(s(!0),c(f,null,w(l(g)(l(m).TRADE_AFTER_SALE_WAY),e=>(s(),_(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(p,{label:"\u552E\u540E\u7C7B\u578B",prop:"type"},{default:r(()=>[a(N,{modelValue:l(u).type,"onUpdate:modelValue":t[5]||(t[5]=e=>l(u).type=e),class:"!w-280px",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u552E\u540E\u7C7B\u578B"},{default:r(()=>[(s(!0),c(f,null,w(l(g)(l(m).TRADE_AFTER_SALE_TYPE),e=>(s(),_(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(p,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{default:r(()=>[a(O,{modelValue:l(u).createTime,"onUpdate:modelValue":t[6]||(t[6]=e=>l(u).createTime=e),"default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],class:"!w-280px","end-placeholder":"\u81EA\u5B9A\u4E49\u65F6\u95F4","start-placeholder":"\u81EA\u5B9A\u4E49\u65F6\u95F4",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),a(p,null,{default:r(()=>[a(V,{onClick:y},{default:r(()=>[a(L,{class:"mr-5px",icon:"ep:search"}),t[10]||(t[10]=T(" \u641C\u7D22 "))]),_:1}),a(V,{onClick:P},{default:r(()=>[a(L,{class:"mr-5px",icon:"ep:refresh"}),t[11]||(t[11]=T(" \u91CD\u7F6E "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(Y,null,{default:r(()=>[a(H,{modelValue:l(u).status,"onUpdate:modelValue":t[7]||(t[7]=e=>l(u).status=e),onTabClick:z},{default:r(()=>[(s(!0),c(f,null,w(l(C),e=>(s(),_(G,{key:e.label,label:e.label,name:e.value},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),se((s(),_(q,{data:l(R)},{default:r(()=>[a(n,{align:"center",label:"\u9000\u6B3E\u7F16\u53F7","min-width":"200",prop:"no"}),a(n,{align:"center",label:"\u8BA2\u5355\u7F16\u53F7","min-width":"200",prop:"orderNo"},{default:r(({row:e})=>[a(V,{link:"",type:"primary",onClick:d=>{return i=e.orderId,void U({name:"TradeOrderDetail",params:{id:i}});var i}},{default:r(()=>[T(b(e.orderNo),1)]),_:2},1032,["onClick"])]),_:1}),a(n,{label:"\u5546\u54C1\u4FE1\u606F","min-width":"600",prop:"spuName"},{default:r(({row:e})=>[x("div",xe,[a(I,{src:e.picUrl,class:"mr-10px h-30px w-30px",onClick:d=>{return i=e.picUrl,void J({urlList:[i]});var i}},null,8,["src","onClick"]),x("span",Ee,b(e.spuName),1),(s(!0),c(f,null,w(e.properties,d=>(s(),_(W,{key:d.propertyId,class:"mr-10px"},{default:r(()=>[T(b(d.propertyName)+": "+b(d.valueName),1)]),_:2},1024))),128))])]),_:1}),a(n,{align:"center",label:"\u8BA2\u5355\u91D1\u989D","min-width":"120",prop:"refundPrice"},{default:r(e=>[x("span",null,b(l(B)(e.row.refundPrice))+" \u5143",1)]),_:1}),a(n,{align:"center",label:"\u4E70\u5BB6",prop:"user.nickname"}),a(n,{align:"center",label:"\u7533\u8BF7\u65F6\u95F4",prop:"createTime",width:"180"},{default:r(e=>[x("span",null,b(l(pe)(e.row.createTime)),1)]),_:1}),a(n,{align:"center",label:"\u552E\u540E\u72B6\u6001",width:"100"},{default:r(e=>[a(K,{type:l(m).TRADE_AFTER_SALE_STATUS,value:e.row.status},null,8,["type","value"])]),_:1}),a(n,{align:"center",label:"\u552E\u540E\u65B9\u5F0F"},{default:r(e=>[a(K,{type:l(m).TRADE_AFTER_SALE_WAY,value:e.row.way},null,8,["type","value"])]),_:1}),a(n,{align:"center",fixed:"right",label:"\u64CD\u4F5C",width:"160"},{default:r(({row:e})=>[a(V,{link:"",type:"primary",onClick:d=>{return i=e.id,void U({name:"TradeAfterSaleDetail",params:{id:i}});var i}},{default:r(()=>t[12]||(t[12]=[T("\u5904\u7406\u9000\u6B3E")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[X,l(E)]]),a(Q,{limit:l(u).pageSize,"onUpdate:limit":t[8]||(t[8]=e=>l(u).pageSize=e),page:l(u).pageNo,"onUpdate:page":t[9]||(t[9]=e=>l(u).pageNo=e),total:l(D),onPagination:A},null,8,["limit","page","total"])]),_:1})],64)}}});export{ke as default};
