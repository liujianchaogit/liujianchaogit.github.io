import{_ as k}from"./index-DiGvuAxb.js";import{g as v}from"./index-eU2zJvzd.js";import{d as y,h as x}from"./tree-COGD3qag.js";import{k as _,y as b}from"./form-designer-drfGvdgz.js";import{k as g,r as o,b as V,e as w,l as D,m as T,G as U,v as c,H as r,u as l,h as j,z}from"./form-create-D7wT855o.js";const C={class:"head-container"},G={class:"head-container"},H=g({name:"SystemUserDeptTree",__name:"DeptTree",emits:["node-click"],setup(N,{emit:i}){const a=o(""),n=o([]),t=o(),d=(e,s)=>!e||s.name.includes(e),m=async e=>{p("node-click",e)},p=i;return V(a,e=>{t.value.filter(e)}),w(async()=>{await(async()=>{const e=await v();n.value=[],n.value.push(...x(e))})()}),(e,s)=>{const u=k,f=_;return T(),D(U,null,[c("div",C,[r(f,{modelValue:l(a),"onUpdate:modelValue":s[0]||(s[0]=h=>j(a)?a.value=h:null),class:"mb-20px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0"},{prefix:z(()=>[r(u,{icon:"ep:search"})]),_:1},8,["modelValue"])]),c("div",G,[r(l(b),{ref_key:"treeRef",ref:t,data:l(n),"expand-on-click-node":!1,"filter-node-method":d,props:l(y),"default-expand-all":"","highlight-current":"","node-key":"id",onNodeClick:m},null,8,["data","props"])])],64)}}});export{H as _};
