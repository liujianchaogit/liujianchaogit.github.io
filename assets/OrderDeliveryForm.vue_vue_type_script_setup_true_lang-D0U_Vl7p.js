import{b as J,d as K,ar as M}from"./index-C1TKk8vI.js";import{_ as Q}from"./Dialog.vue_vue_type_style_index_0_lang-CB5cl-Ts.js";import{g as R}from"./index-CyioDjMj.js";import{d as S}from"./index-DsFOJog9.js";import{u as W,s as q,ai as A,Q as B,x as H,k as L,h as P,f as T,aj as X}from"./form-designer-BpYekVAY.js";import{x as Y,r,j as Z,y as m,E as v,F as l,O as d,K as c,u as s,G as $,l as V,z as b,M as x,a4 as ee,J as ae}from"./form-create-7GAbgMwl.js";const le=Y({name:"OrderDeliveryForm",__name:"OrderDeliveryForm",emits:["success"],setup(se,{expose:k,emit:I}){const{t:h}=J(),w=K(),u=r(!1),n=r(!1),i=r("express"),t=r({id:void 0,logisticsId:null,logisticsNo:""}),p=r();k({open:async o=>{U(),M(t.value,o),o.logisticsId===0&&(i.value="none"),u.value=!0}});const N=I,F=async()=>{n.value=!0;try{const o=s(t);i.value==="none"&&(o.logisticsId=0,o.logisticsNo=""),await S(o),w.success(h("common.updateSuccess")),u.value=!1,N("success",!0)}finally{n.value=!1}},U=()=>{var o;t.value={id:void 0,logisticsId:null,logisticsNo:""},(o=p.value)==null||o.resetFields()},_=r([]);return Z(async()=>{_.value=await R()}),(o,e)=>{const y=W,C=q,f=A,D=B,O=H,j=L,z=P,g=T,E=Q,G=X;return m(),v(E,{modelValue:s(u),"onUpdate:modelValue":e[4]||(e[4]=a=>V(u)?u.value=a:null),title:"\u8BA2\u5355\u53D1\u8D27",width:"25%"},{footer:l(()=>[d(g,{disabled:s(n),type:"primary",onClick:F},{default:l(()=>e[7]||(e[7]=[c("\u786E \u5B9A")])),_:1},8,["disabled"]),d(g,{onClick:e[3]||(e[3]=a=>u.value=!1)},{default:l(()=>e[8]||(e[8]=[c("\u53D6 \u6D88")])),_:1})]),default:l(()=>[$((m(),v(z,{ref_key:"formRef",ref:p,model:s(t),"label-width":"80px"},{default:l(()=>[d(f,{label:"\u53D1\u8D27\u65B9\u5F0F"},{default:l(()=>[d(C,{modelValue:s(i),"onUpdate:modelValue":e[0]||(e[0]=a=>V(i)?i.value=a:null)},{default:l(()=>[d(y,{border:"",value:"express"},{default:l(()=>e[5]||(e[5]=[c("\u5FEB\u9012\u7269\u6D41")])),_:1}),d(y,{border:"",value:"none"},{default:l(()=>e[6]||(e[6]=[c("\u65E0\u9700\u53D1\u8D27")])),_:1})]),_:1},8,["modelValue"])]),_:1}),s(i)==="express"?(m(),b(x,{key:0},[d(f,{label:"\u7269\u6D41\u516C\u53F8"},{default:l(()=>[d(O,{modelValue:s(t).logisticsId,"onUpdate:modelValue":e[1]||(e[1]=a=>s(t).logisticsId=a),placeholder:"\u8BF7\u9009\u62E9",style:{width:"100%"}},{default:l(()=>[(m(!0),b(x,null,ee(s(_),a=>(m(),v(D,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),d(f,{label:"\u7269\u6D41\u5355\u53F7"},{default:l(()=>[d(j,{modelValue:s(t).logisticsNo,"onUpdate:modelValue":e[2]||(e[2]=a=>s(t).logisticsNo=a)},null,8,["modelValue"])]),_:1})],64)):ae("",!0)]),_:1},8,["model"])),[[G,s(n)]])]),_:1},8,["modelValue"])}}});export{le as _};
