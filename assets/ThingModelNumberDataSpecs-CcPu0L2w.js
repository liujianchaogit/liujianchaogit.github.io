import{aA as w,as as E,D as h,c as y}from"./index-DiGvuAxb.js";import{ai as S,k as T,x as q,Q as D}from"./form-designer-drfGvdgz.js";import{k as I,l as p,m as i,G as N,H as t,z as m,v as c,u,$ as U,y as k}from"./form-create-D7wT855o.js";const M={class:"flex items-center justify-between"},G=y(I({name:"ThingModelNumberDataSpecs",__name:"ThingModelNumberDataSpecs",props:{modelValue:{}},emits:["update:modelValue"],setup(v,{emit:b}){const e=w(v,"modelValue",b),f=d=>{const[r,a]=d.split("-");e.value.unitName=r,e.value.unit=a},_=(d,r,a)=>{const l=Number(e.value.min),s=Number(e.value.max);isNaN(l)?a(new Error("\u8BF7\u8F93\u5165\u6709\u6548\u7684\u6570\u503C")):s!==void 0&&!isNaN(s)&&l>=s?a(new Error("\u6700\u5C0F\u503C\u5FC5\u987B\u5C0F\u4E8E\u6700\u5927\u503C")):a()},g=(d,r,a)=>{const l=Number(e.value.min),s=Number(e.value.max);isNaN(s)?a(new Error("\u8BF7\u8F93\u5165\u6709\u6548\u7684\u6570\u503C")):l!==void 0&&!isNaN(l)&&s<=l?a(new Error("\u6700\u5927\u503C\u5FC5\u987B\u5927\u4E8E\u6700\u5C0F\u503C")):a()},V=(d,r,a)=>{const l=Number(e.value.step);if(isNaN(l))return void a(new Error("\u8BF7\u8F93\u5165\u6709\u6548\u7684\u6570\u503C"));if(l<=0)return void a(new Error("\u6B65\u957F\u5FC5\u987B\u5927\u4E8E0"));const s=Number(e.value.min),n=Number(e.value.max);!isNaN(s)&&!isNaN(n)&&l>n-s?a(new Error("\u6B65\u957F\u4E0D\u80FD\u5927\u4E8E\u6700\u5927\u503C\u548C\u6700\u5C0F\u503C\u7684\u5DEE\u503C")):a()};return(d,r)=>{const a=T,l=S,s=D,n=q;return i(),p(N,null,[t(l,{label:"\u53D6\u503C\u8303\u56F4"},{default:m(()=>[c("div",M,[t(l,{rules:[{required:!0,message:"\u6700\u5C0F\u503C\u4E0D\u80FD\u4E3A\u7A7A"},{validator:_,trigger:"blur"}],class:"mb-0",prop:"property.dataSpecs.min"},{default:m(()=>[t(a,{modelValue:u(e).min,"onUpdate:modelValue":r[0]||(r[0]=o=>u(e).min=o),placeholder:"\u8BF7\u8F93\u5165\u6700\u5C0F\u503C"},null,8,["modelValue"])]),_:1},8,["rules"]),r[3]||(r[3]=c("span",{class:"mx-2"},"~",-1)),t(l,{rules:[{required:!0,message:"\u6700\u5927\u503C\u4E0D\u80FD\u4E3A\u7A7A"},{validator:g,trigger:"blur"}],class:"mb-0",prop:"property.dataSpecs.max"},{default:m(()=>[t(a,{modelValue:u(e).max,"onUpdate:modelValue":r[1]||(r[1]=o=>u(e).max=o),placeholder:"\u8BF7\u8F93\u5165\u6700\u5927\u503C"},null,8,["modelValue"])]),_:1},8,["rules"])])]),_:1}),t(l,{rules:[{required:!0,message:"\u6B65\u957F\u4E0D\u80FD\u4E3A\u7A7A"},{validator:V,trigger:"blur"}],label:"\u6B65\u957F",prop:"property.dataSpecs.step"},{default:m(()=>[t(a,{modelValue:u(e).step,"onUpdate:modelValue":r[2]||(r[2]=o=>u(e).step=o),placeholder:"\u8BF7\u8F93\u5165\u6B65\u957F"},null,8,["modelValue"])]),_:1},8,["rules"]),t(l,{rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5355\u4F4D"}],label:"\u5355\u4F4D",prop:"property.dataSpecs.unit"},{default:m(()=>[t(n,{"model-value":u(e).unit?u(e).unitName+"-"+u(e).unit:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9\u5355\u4F4D",class:"w-1/1",onChange:f},{default:m(()=>[(i(!0),p(N,null,U(u(E)(u(h).IOT_THING_MODEL_UNIT),(o,x)=>(i(),k(s,{key:x,label:o.label+"-"+o.value,value:o.label+"-"+o.value},null,8,["label","value"]))),128))]),_:1},8,["model-value"])]),_:1})],64)}}}),[["__scopeId","data-v-ae470f5d"]]);export{G as default};
