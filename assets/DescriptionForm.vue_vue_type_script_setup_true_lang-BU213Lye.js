import{p,W as y,d as x,ar as h}from"./index-C1TKk8vI.js";import{r as j}from"./formRules-NkbEJCk0.js";import{h as w,ai as N}from"./form-designer-BpYekVAY.js";import{x as O,r as d,X as V,f as l,E as g,F as m,u as t,y as k,O as c}from"./form-create-7GAbgMwl.js";const E=O({name:"ProductDescriptionForm",__name:"DescriptionForm",props:{propFormData:{type:Object,default:()=>{}},activeName:p.string.def(""),isDetail:p.bool.def(!1)},emits:["update:activeName"],setup(o,{expose:n,emit:u}){const f=x(),s=o,i=d(),a=d({description:""}),v=V({description:[j]});l(()=>a.value.description,e=>{e==="<p><br></p>"&&(a.value.description="")},{deep:!0,immediate:!0}),l(()=>s.propFormData,e=>{e&&h(a.value,e)},{immediate:!0});const b=u;return n({validate:async()=>{var e;if(i)try{await((e=t(i))==null?void 0:e.validate()),Object.assign(s.propFormData,a.value)}catch(r){throw f.error("\u3010\u5546\u54C1\u8BE6\u60C5\u3011\u4E0D\u5B8C\u5584\uFF0C\u8BF7\u586B\u5199\u76F8\u5173\u4FE1\u606F"),b("update:activeName","description"),r}}}),(e,r)=>{const D=N,F=w;return k(),g(F,{ref_key:"formRef",ref:i,model:t(a),rules:t(v),"label-width":"120px",disabled:o.isDetail},{default:m(()=>[c(D,{label:"\u5546\u54C1\u8BE6\u60C5",prop:"description"},{default:m(()=>[c(t(y),{modelValue:t(a).description,"onUpdate:modelValue":r[0]||(r[0]=_=>t(a).description=_)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules","disabled"])}}});export{E as _};
