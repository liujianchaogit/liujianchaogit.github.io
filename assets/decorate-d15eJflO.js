import{P as v,_ as c}from"./util-CzKwmJpi.js";import{g as f,u as w}from"./page-Jk-gVUUZ.js";import{u as V}from"./tagsView-C2oS-OQq.js";import{d as g,u as _,h as b}from"./index-C1TKk8vI.js";import{x as P,r as i,j,u as a,y as k,E as x,J as D}from"./form-create-7GAbgMwl.js";import"./Dialog.vue_vue_type_style_index_0_lang-CB5cl-Ts.js";import"./form-designer-BpYekVAY.js";import"./Qrcode-DoP3T4bV.js";import"./IFrame.vue_vue_type_script_setup_true_lang-BjY8-QVP.js";import"./vuedraggable.umd-DP3omUoG.js";const U=P({name:"DiyPageDecorate",__name:"decorate",setup(h){const s=g(),r=i(!1),e=i(),l=i(),u=async()=>{if(l){r.value=!0;try{await w(a(e)),s.success("\u4FDD\u5B58\u6210\u529F")}finally{r.value=!1}}},{currentRoute:p}=_(),{delView:n}=V(),m=b();return j(()=>{var o;if(e.value={id:void 0,templateId:void 0,name:"",remark:"",previewPicUrls:[],property:""},(o=l.value)==null||o.resetFields(),!m.params.id)return s.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u9875\u9762\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void n(a(p));(async t=>{r.value=!0;try{e.value=await f(t)}finally{r.value=!1}})(m.params.id)}),(o,t)=>{const d=c;return a(e)&&!a(r)?(k(),x(d,{key:0,modelValue:a(e).property,"onUpdate:modelValue":t[0]||(t[0]=y=>a(e).property=y),title:a(e).name,libs:a(v),onSave:u},null,8,["modelValue","title","libs"])):D("",!0)}}});export{U as default};
