import{a as T,_ as j}from"./index-C1TKk8vI.js";import{_ as H}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CXvvgLEc.js";import{_ as M}from"./ContractPriceRank.vue_vue_type_script_setup_true_lang-CJNLrlo3.js";import{_ as K}from"./ReceivablePriceRank.vue_vue_type_script_setup_true_lang-CfdYUzmR.js";import{_ as O}from"./ContractCountRank.vue_vue_type_script_setup_true_lang-BklUAjbq.js";import{_ as X}from"./ProductSalesRank.vue_vue_type_script_setup_true_lang-40Rj9Uli.js";import{_ as A}from"./CustomerCountRank.vue_vue_type_script_setup_true_lang-CiuvLvtl.js";import{_ as B}from"./ContactCountRank.vue_vue_type_script_setup_true_lang-Do6mzMzy.js";import{_ as E}from"./FollowCountRank.vue_vue_type_script_setup_true_lang-CwbKslyQ.js";import{_ as G}from"./FollowCustomerCountRank.vue_vue_type_script_setup_true_lang-DNi9Phfb.js";import{h as J,d as L}from"./tree-COGD3qag.js";import{g as N}from"./index-B0Mya_PA.js";import{f as S,c as Q,e as W,h as Z}from"./formatTime-EbFUBcAO.js";import{F as $,ai as aa,av as ea,f as la,h as ra,a0 as ta,a1 as oa,j as sa}from"./form-designer-BpYekVAY.js";import{x as ua,X as na,r as s,f as ma,j as fa,y as ca,z as da,O as a,F as e,u as l,K as U,l as pa,M as ia}from"./form-create-7GAbgMwl.js";import"./Echart.vue_vue_type_script_setup_true_lang-Bp4Tc-Mi.js";import"./echarts-D5qUf7fo.js";import"./rank-Dth2TpK6.js";const ka=ua({name:"CrmStatisticsRank",__name:"index",setup(ya){const r=na({deptId:T().getUser.deptId,times:[S(Q(new Date(new Date().getTime()-6048e5))),S(W(new Date(new Date().getTime()-864e5)))]}),q=s(),v=s([]),i=s("contractPriceRank"),w=s(),D=s(),h=s(),x=s(),z=s(),V=s(),P=s(),g=s(),C=()=>{var k,t,m,f,c,y,n,R,d,o,p,_,u,I,b,F;switch(i.value){case"contractPriceRank":(t=(k=w.value)==null?void 0:k.loadData)==null||t.call(k);break;case"receivablePriceRank":(f=(m=D.value)==null?void 0:m.loadData)==null||f.call(m);break;case"contractCountRank":(y=(c=h.value)==null?void 0:c.loadData)==null||y.call(c);break;case"productSalesRank":(R=(n=x.value)==null?void 0:n.loadData)==null||R.call(n);break;case"customerCountRank":(o=(d=z.value)==null?void 0:d.loadData)==null||o.call(d);break;case"contactCountRank":(_=(p=V.value)==null?void 0:p.loadData)==null||_.call(p);break;case"followCountRank":(I=(u=P.value)==null?void 0:u.loadData)==null||I.call(u);break;case"followCustomerCountRank":(F=(b=g.value)==null?void 0:b.loadData)==null||F.call(b)}};ma(i,()=>{C()});const Y=()=>{q.value.resetFields(),C()};return fa(async()=>{v.value=J(await N())}),(k,t)=>{const m=$,f=aa,c=ea,y=j,n=la,R=ra,d=H,o=ta,p=oa,_=sa;return ca(),da(ia,null,[a(d,null,{default:e(()=>[a(R,{class:"-mb-15px",model:l(r),ref_key:"queryFormRef",ref:q,inline:!0,"label-width":"68px"},{default:e(()=>[a(f,{label:"\u65F6\u95F4\u8303\u56F4",prop:"orderDate"},{default:e(()=>[a(m,{modelValue:l(r).times,"onUpdate:modelValue":t[0]||(t[0]=u=>l(r).times=u),shortcuts:l(Z),class:"!w-240px","end-placeholder":"\u7ED3\u675F\u65E5\u671F","start-placeholder":"\u5F00\u59CB\u65E5\u671F",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")]},null,8,["modelValue","shortcuts","default-time"])]),_:1}),a(f,{label:"\u5F52\u5C5E\u90E8\u95E8",prop:"deptId"},{default:e(()=>[a(c,{modelValue:l(r).deptId,"onUpdate:modelValue":t[1]||(t[1]=u=>l(r).deptId=u),data:l(v),props:l(L),"check-strictly":"","node-key":"id",placeholder:"\u8BF7\u9009\u62E9\u5F52\u5C5E\u90E8\u95E8",class:"!w-240px"},null,8,["modelValue","data","props"])]),_:1}),a(f,null,{default:e(()=>[a(n,{onClick:C},{default:e(()=>[a(y,{icon:"ep:search",class:"mr-5px"}),t[3]||(t[3]=U(" \u641C\u7D22"))]),_:1}),a(n,{onClick:Y},{default:e(()=>[a(y,{icon:"ep:refresh",class:"mr-5px"}),t[4]||(t[4]=U(" \u91CD\u7F6E"))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(_,null,{default:e(()=>[a(p,{modelValue:l(i),"onUpdate:modelValue":t[2]||(t[2]=u=>pa(i)?i.value=u:null)},{default:e(()=>[a(o,{label:"\u5408\u540C\u91D1\u989D\u6392\u884C",name:"contractPriceRank",lazy:""},{default:e(()=>[a(M,{"query-params":l(r),ref_key:"contractPriceRankRef",ref:w},null,8,["query-params"])]),_:1}),a(o,{label:"\u56DE\u6B3E\u91D1\u989D\u6392\u884C",name:"receivablePriceRank",lazy:""},{default:e(()=>[a(K,{"query-params":l(r),ref_key:"receivablePriceRankRef",ref:D},null,8,["query-params"])]),_:1}),a(o,{label:"\u7B7E\u7EA6\u5408\u540C\u6392\u884C",name:"contractCountRank",lazy:""},{default:e(()=>[a(O,{"query-params":l(r),ref_key:"contractCountRankRef",ref:h},null,8,["query-params"])]),_:1}),a(o,{label:"\u4EA7\u54C1\u9500\u91CF\u6392\u884C",name:"productSalesRank",lazy:""},{default:e(()=>[a(X,{"query-params":l(r),ref_key:"productSalesRankRef",ref:x},null,8,["query-params"])]),_:1}),a(o,{label:"\u65B0\u589E\u5BA2\u6237\u6570\u6392\u884C",name:"customerCountRank",lazy:""},{default:e(()=>[a(A,{"query-params":l(r),ref_key:"customerCountRankRef",ref:z},null,8,["query-params"])]),_:1}),a(o,{label:"\u65B0\u589E\u8054\u7CFB\u4EBA\u6570\u6392\u884C",name:"contactCountRank",lazy:""},{default:e(()=>[a(B,{"query-params":l(r),ref_key:"contactCountRankRef",ref:V},null,8,["query-params"])]),_:1}),a(o,{label:"\u8DDF\u8FDB\u6B21\u6570\u6392\u884C",name:"followCountRank",lazy:""},{default:e(()=>[a(E,{"query-params":l(r),ref_key:"followCountRankRef",ref:P},null,8,["query-params"])]),_:1}),a(o,{label:"\u8DDF\u8FDB\u5BA2\u6237\u6570\u6392\u884C",name:"followCustomerCountRank",lazy:""},{default:e(()=>[a(G,{"query-params":l(r),ref_key:"followCustomerCountRankRef",ref:g},null,8,["query-params"])]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}});export{ka as default};
