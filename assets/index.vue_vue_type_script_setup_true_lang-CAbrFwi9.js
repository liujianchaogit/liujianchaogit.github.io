import{S as k,b8 as v,p as c,aA as C,_ as h}from"./index-C1TKk8vI.js";import{V}from"./vuedraggable.umd-DP3omUoG.js";import{K as w,a7 as j,o as z,f as A}from"./form-designer-BpYekVAY.js";import{x as I,y as p,z as K,O as e,F as l,K as $,C as r,u as o,E as q,J as D,A as E,M as F}from"./form-create-7GAbgMwl.js";const J={class:"mb-4px flex flex-col gap-4px border border-gray-2 border-rounded rounded border-solid p-8px"},M={class:"m--8px m-b-4px flex flex-row items-center justify-between p-8px",style:{"background-color":"var(--app-content-bg-color)"}},O=I({name:"Draggable",__name:"index",props:{modelValue:k().isRequired,emptyItem:v().def({}),limit:c.number.def(0),min:c.number.def(1)},emits:["update:modelValue"],setup(a,{emit:u}){const d=a,t=C(d,"modelValue",u),f=()=>t.value.push(w(d.emptyItem||{}));return(x,s)=>{const b=j,i=h,n=z,y=A;return p(),K(F,null,[e(b,{type:"info",size:"small"},{default:l(()=>s[0]||(s[0]=[$(" \u62D6\u52A8\u5DE6\u4E0A\u89D2\u7684\u5C0F\u5706\u70B9\u53EF\u5BF9\u5176\u6392\u5E8F ")])),_:1}),e(o(V),{list:o(t),"force-fallback":!0,animation:200,handle:".drag-icon",class:"m-t-8px","item-key":"index"},{item:l(({element:g,index:m})=>[r("div",J,[r("div",M,[e(n,{content:"\u62D6\u52A8\u6392\u5E8F"},{default:l(()=>[e(i,{icon:"ic:round-drag-indicator",class:"drag-icon cursor-move",style:{color:"#8a909c"}})]),_:1}),e(n,{content:"\u5220\u9664"},{default:l(()=>[o(t).length>a.min?(p(),q(i,{key:0,icon:"ep:delete",class:"cursor-pointer text-red-5",onClick:R=>(_=>t.value.splice(_,1))(m)},null,8,["onClick"])):D("",!0)]),_:2},1024)]),E(x.$slots,"default",{element:g,index:m})])]),_:3},8,["list"]),e(n,{disabled:a.limit<1,content:`\u6700\u591A\u6DFB\u52A0${a.limit}\u4E2A`},{default:l(()=>[e(y,{type:"primary",plain:"",class:"m-t-4px w-full",disabled:a.limit>0&&o(t).length>=a.limit,onClick:f},{default:l(()=>[e(i,{icon:"ep:plus"}),s[1]||(s[1]=r("span",null,"\u6DFB\u52A0",-1))]),_:1},8,["disabled"])]),_:1},8,["disabled","content"])],64)}}});export{O as _};
