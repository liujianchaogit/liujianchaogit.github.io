import{_ as z}from"./index-DiGvuAxb.js";import{_ as A}from"./ContentWrap.vue_vue_type_script_setup_true_lang-C0SI8VIx.js";import{D as E}from"./index-4TQdK-Zm.js";import{d as H}from"./formatTime-DeTj2b0K.js";import{_ as L}from"./DeviceDataDetail.vue_vue_type_script_setup_true_lang-BiUojWst.js";import{a0 as M,$ as Z,h as $,ai as W,k as B,f as G,aj as J,Z as K,_ as N}from"./form-designer-drfGvdgz.js";import{k as O,r as d,P as Q,e as S,y as R,m as U,z as a,H as e,u as t,h as X,E as v,A as Y,v as F}from"./form-create-D7wT855o.js";const ee=O({__name:"DeviceDetailsModel",props:{product:{},device:{}},setup(I){const _=I,n=d(!0),c=d([]),r=Q({deviceId:-1,identifier:void 0,name:void 0}),b=d(),p=d("status"),y=async()=>{n.value=!0;try{r.deviceId=_.device.id,c.value=await E.getLatestDeviceProperties(r)}finally{n.value=!1}},h=()=>{y()},P=()=>{b.value.resetFields(),r.identifier=void 0,r.name=void 0,h()},k=d();return S(()=>{y()}),(V,l)=>{const w=B,u=W,x=z,s=G,T=$,m=A,o=N,j=K,g=M,f=Z,q=J;return U(),R(m,null,{default:a(()=>[e(g,{modelValue:t(p),"onUpdate:modelValue":l[2]||(l[2]=i=>X(p)?p.value=i:null)},{default:a(()=>[e(f,{label:"\u8FD0\u884C\u72B6\u6001",name:"status"},{default:a(()=>[e(m,null,{default:a(()=>[e(T,{class:"-mb-15px",model:t(r),ref_key:"queryFormRef",ref:b,inline:!0,"label-width":"68px"},{default:a(()=>[e(u,{label:"\u6807\u8BC6\u7B26",prop:"identifier"},{default:a(()=>[e(w,{modelValue:t(r).identifier,"onUpdate:modelValue":l[0]||(l[0]=i=>t(r).identifier=i),placeholder:"\u8BF7\u8F93\u5165\u6807\u8BC6\u7B26",clearable:"",class:"!w-240px"},null,8,["modelValue"])]),_:1}),e(u,{label:"\u5C5E\u6027\u540D\u79F0",prop:"name"},{default:a(()=>[e(w,{modelValue:t(r).name,"onUpdate:modelValue":l[1]||(l[1]=i=>t(r).name=i),placeholder:"\u8BF7\u8F93\u5165\u5C5E\u6027\u540D\u79F0",clearable:"",class:"!w-240px"},null,8,["modelValue"])]),_:1}),e(u,null,{default:a(()=>[e(s,{onClick:h},{default:a(()=>[e(x,{icon:"ep:search",class:"mr-5px"}),l[3]||(l[3]=v(" \u641C\u7D22"))]),_:1}),e(s,{onClick:P},{default:a(()=>[e(x,{icon:"ep:refresh",class:"mr-5px"}),l[4]||(l[4]=v(" \u91CD\u7F6E"))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(m,null,{default:a(()=>[e(g,null,{default:a(()=>[Y((U(),R(j,{data:t(c),stripe:!0,"show-overflow-tooltip":!0},{default:a(()=>[e(o,{label:"\u5C5E\u6027\u6807\u8BC6\u7B26",align:"center",prop:"property.identifier"}),e(o,{label:"\u5C5E\u6027\u540D\u79F0",align:"center",prop:"property.name"}),e(o,{label:"\u6570\u636E\u7C7B\u578B",align:"center",prop:"property.dataType"}),e(o,{label:"\u5C5E\u6027\u503C",align:"center",prop:"value"}),e(o,{label:"\u66F4\u65B0\u65F6\u95F4",align:"center",prop:"updateTime",formatter:t(H),width:"180px"},null,8,["formatter"]),e(o,{label:"\u64CD\u4F5C",align:"center"},{default:a(i=>[e(s,{link:"",type:"primary",onClick:ae=>{return C=_.device.id,D=i.row.property.identifier,void k.value.open(C,D);var C,D}},{default:a(()=>l[5]||(l[5]=[v(" \u67E5\u770B\u6570\u636E ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[q,t(n)]])]),_:1}),e(L,{ref_key:"detailRef",ref:k,device:V.device,product:V.product},null,8,["device","product"])]),_:1})]),_:1}),e(f,{label:"\u4E8B\u4EF6\u7BA1\u7406",name:"event"},{default:a(()=>l[6]||(l[6]=[F("p",null,"\u4E8B\u4EF6\u7BA1\u7406",-1)])),_:1}),e(f,{label:"\u670D\u52A1\u8C03\u7528",name:"service"},{default:a(()=>l[7]||(l[7]=[F("p",null,"\u670D\u52A1\u8C03\u7528",-1)])),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{ee as _};
