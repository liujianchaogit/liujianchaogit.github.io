import{p as R,d as j,ar as z,X as O,Y as N}from"./index-C1TKk8vI.js";import{h as X,d as E}from"./tree-COGD3qag.js";import{g as q}from"./category-BHM6Cffl.js";import{g as M}from"./brand-BAH59aj1.js";import{r as i}from"./formRules-NkbEJCk0.js";import{h as Q,k as S,ai as Y,m as A,Q as B,x as C}from"./form-designer-BpYekVAY.js";import{x as G,r as n,X as V,f as H,j as J,E as y,F as r,u as a,y as c,O as d,z as K,a4 as L,M as T}from"./form-create-7GAbgMwl.js";const W=G({name:"ProductSpuInfoForm",__name:"InfoForm",props:{propFormData:{type:Object,default:()=>{}},isDetail:R.bool.def(!1)},emits:["update:activeName"],setup(m,{expose:U,emit:h}){const b=m,_=j(),p=n(),e=V({name:"",categoryId:void 0,keyword:"",picUrl:"",sliderPicUrls:[],introduction:"",brandId:void 0}),x=V({name:[i],categoryId:[i],keyword:[i],introduction:[i],picUrl:[i],sliderPicUrls:[i],brandId:[i]});H(()=>b.propFormData,t=>{t&&z(e,t)},{immediate:!0});const I=h;U({validate:async()=>{var t;if(p)try{await((t=a(p))==null?void 0:t.validate()),Object.assign(b.propFormData,e)}catch(o){throw _.error("\u3010\u57FA\u7840\u8BBE\u7F6E\u3011\u4E0D\u5B8C\u5584\uFF0C\u8BF7\u586B\u5199\u76F8\u5173\u4FE1\u606F"),I("update:activeName","info"),o}}});const f=n([]),w=n([]);return J(async()=>{const t=await q({});w.value=X(t,"id"),f.value=await M()}),(t,o)=>{const u=S,s=Y,g=A,v=B,k=C,D=O,F=N,P=Q;return c(),y(P,{ref_key:"formRef",ref:p,disabled:m.isDetail,model:a(e),rules:a(x),"label-width":"120px"},{default:r(()=>[d(s,{label:"\u5546\u54C1\u540D\u79F0",prop:"name"},{default:r(()=>[d(u,{modelValue:a(e).name,"onUpdate:modelValue":o[0]||(o[0]=l=>a(e).name=l),autosize:{minRows:2,maxRows:2},clearable:!0,"show-word-limit":!0,class:"w-80!",maxlength:"64",placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u540D\u79F0",type:"textarea"},null,8,["modelValue"])]),_:1}),d(s,{label:"\u5546\u54C1\u5206\u7C7B",prop:"categoryId"},{default:r(()=>[d(g,{modelValue:a(e).categoryId,"onUpdate:modelValue":o[1]||(o[1]=l=>a(e).categoryId=l),options:a(w),props:a(E),class:"w-80",clearable:"",filterable:"",placeholder:"\u8BF7\u9009\u62E9\u5546\u54C1\u5206\u7C7B"},null,8,["modelValue","options","props"])]),_:1}),d(s,{label:"\u5546\u54C1\u54C1\u724C",prop:"brandId"},{default:r(()=>[d(k,{modelValue:a(e).brandId,"onUpdate:modelValue":o[2]||(o[2]=l=>a(e).brandId=l),class:"w-80",placeholder:"\u8BF7\u9009\u62E9\u5546\u54C1\u54C1\u724C"},{default:r(()=>[(c(!0),K(T,null,L(a(f),l=>(c(),y(v,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),d(s,{label:"\u5546\u54C1\u5173\u952E\u5B57",prop:"keyword"},{default:r(()=>[d(u,{modelValue:a(e).keyword,"onUpdate:modelValue":o[3]||(o[3]=l=>a(e).keyword=l),class:"w-80!",placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u5173\u952E\u5B57"},null,8,["modelValue"])]),_:1}),d(s,{label:"\u5546\u54C1\u7B80\u4ECB",prop:"introduction"},{default:r(()=>[d(u,{modelValue:a(e).introduction,"onUpdate:modelValue":o[4]||(o[4]=l=>a(e).introduction=l),autosize:{minRows:2,maxRows:2},clearable:!0,"show-word-limit":!0,class:"w-80!",maxlength:"128",placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u7B80\u4ECB",type:"textarea"},null,8,["modelValue"])]),_:1}),d(s,{label:"\u5546\u54C1\u5C01\u9762\u56FE",prop:"picUrl"},{default:r(()=>[d(D,{modelValue:a(e).picUrl,"onUpdate:modelValue":o[5]||(o[5]=l=>a(e).picUrl=l),disabled:m.isDetail,height:"80px"},null,8,["modelValue","disabled"])]),_:1}),d(s,{label:"\u5546\u54C1\u8F6E\u64AD\u56FE",prop:"sliderPicUrls"},{default:r(()=>[d(F,{modelValue:a(e).sliderPicUrls,"onUpdate:modelValue":o[6]||(o[6]=l=>a(e).sliderPicUrls=l),disabled:m.isDetail},null,8,["modelValue","disabled"])]),_:1})]),_:1},8,["disabled","model","rules"])}}});export{W as _};
