import{_ as q}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CXvvgLEc.js";import{h as M,u as R,_ as C,c as D}from"./index-C1TKk8vI.js";import{u as K}from"./tagsView-C2oS-OQq.js";import{_ as S}from"./UploadStep.vue_vue_type_script_setup_true_lang-CqiNyqei.js";import{_ as U}from"./SplitStep.vue_vue_type_script_setup_true_lang-DL8ipztI.js";import{_ as z}from"./ProcessStep.vue_vue_type_script_setup_true_lang-Dg-v9YyM.js";import{K as B}from"./index-BHVZZTlJ.js";import{x as E,r,j as A,W as F,y as n,E as H,F as J,C as a,O as i,L as p,u as t,z as m,a4 as L,H as _,M as N,l as x,J as c,t as O,g as P}from"./form-create-7GAbgMwl.js";import"./form-designer-BpYekVAY.js";import"./index-Ctuiy-PU.js";const W={class:"mx-auto"},X={class:"absolute top-0 left-0 right-0 h-50px bg-white border-bottom z-10 flex items-center px-20px"},Y={class:"w-200px flex items-center overflow-hidden"},Z={class:"ml-10px text-16px truncate"},G={class:"flex-1 flex items-center justify-center h-full"},Q={class:"w-400px flex items-center justify-between h-full"},$={class:"text-16px font-bold whitespace-nowrap"},ee={class:"mt-50px"},le={key:0,class:"mx-auto w-560px"},ae={key:1,class:"mx-auto w-560px"},te={key:2,class:"mx-auto w-560px"},se=E({__name:"index",setup(re,{expose:V}){const{delView:I}=K(),f=M(),v=R(),g=r(),w=r(),y=r(),s=r(0),k=[{title:"\u4E0A\u4F20\u6587\u6863"},{title:"\u6587\u6863\u5206\u6BB5"},{title:"\u5904\u7406\u5E76\u5B8C\u6210"}],e=r({knowledgeId:void 0,id:void 0,segmentMaxTokens:500,list:[]});O("parent",P());const b=()=>{s.value<k.length-1&&s.value++},h=()=>{I(t(v.currentRoute)),v.push({name:"AiKnowledgeDocument",query:{knowledgeId:e.value.knowledgeId}})};return A(async()=>{await(async()=>{f.query.knowledgeId&&(e.value.knowledgeId=f.query.knowledgeId);const u=f.query.id;if(u){e.value.id=u;const l=await B.getKnowledgeDocument(u);e.value.segmentMaxTokens=l.segmentMaxTokens,e.value.list=[{id:l.id,name:l.name,url:l.url,segments:[]}],b()}})()}),F(()=>{g.value=null,w.value=null,y.value=null}),V({goToNextStep:b,goToPrevStep:()=>{s.value>0&&s.value--},handleBack:h}),(u,l)=>{const j=C,T=q;return n(),H(T,null,{default:J(()=>[a("div",W,[a("div",X,[a("div",Y,[i(j,{icon:"ep:arrow-left",class:"cursor-pointer flex-shrink-0",onClick:h}),a("span",Z,p(t(e).id?"\u7F16\u8F91\u77E5\u8BC6\u5E93\u6587\u6863":"\u521B\u5EFA\u77E5\u8BC6\u5E93\u6587\u6863"),1)]),a("div",G,[a("div",Q,[(n(),m(N,null,L(k,(o,d)=>a("div",{key:d,class:_(["flex items-center mx-15px relative h-full",[t(s)===d?"text-[#3473ff] border-[#3473ff] border-b-2 border-b-solid":"text-gray-500"]])},[a("div",{class:_(["w-28px h-28px rounded-full flex items-center justify-center mr-8px border-2 border-solid text-15px",[t(s)===d?"bg-[#3473ff] text-white border-[#3473ff]":"border-gray-300 bg-white text-gray-500"]])},p(d+1),3),a("span",$,p(o.title),1)],2)),64))])]),l[3]||(l[3]=a("div",{class:"w-200px flex items-center justify-end gap-2"},null,-1))]),a("div",ee,[t(s)===0?(n(),m("div",le,[i(S,{modelValue:t(e),"onUpdate:modelValue":l[0]||(l[0]=o=>x(e)?e.value=o:null),ref_key:"uploadDocumentRef",ref:g},null,8,["modelValue"])])):c("",!0),t(s)===1?(n(),m("div",ae,[i(U,{modelValue:t(e),"onUpdate:modelValue":l[1]||(l[1]=o=>x(e)?e.value=o:null),ref_key:"documentSegmentRef",ref:w},null,8,["modelValue"])])):c("",!0),t(s)===2?(n(),m("div",te,[i(z,{modelValue:t(e),"onUpdate:modelValue":l[2]||(l[2]=o=>x(e)?e.value=o:null),ref_key:"processCompleteRef",ref:y},null,8,["modelValue"])])):c("",!0)])])]),_:1})}}}),oe=D(se,[["__scopeId","data-v-f622f024"]]);export{oe as default};
