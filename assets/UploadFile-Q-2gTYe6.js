import{d as I,c as b}from"./index-DiGvuAxb.js";import{b as v,a as U,H as h,U as x}from"./upload-CqGqZCn6.js";import{U as l}from"./useUpload-Bn-ruquy.js";import{f as z,z as E}from"./form-designer-drfGvdgz.js";import{k as H,i as k,r as q,P as j,y as C,m as F,z as o,H as P,E as S,v as $,q as w,u as t}from"./form-create-D7wT855o.js";const A={class:"el-upload__tip",style:{"margin-left":"5px"}},B=b(H({__name:"UploadFile",props:{type:{}},emits:["uploaded"],setup(p,{emit:d}){const e=I(),m=p,u=k("accountId"),r=q([]),n=d,s=j({type:l.Image,title:"",introduction:"",accountId:u}),c=m.type===l.Image?v:U,f=a=>{if(a.code!==0)return e.alertError("\u4E0A\u4F20\u51FA\u9519\uFF1A"+a.msg),!1;r.value=[],s.title="",s.introduction="",e.notifySuccess("\u4E0A\u4F20\u6210\u529F"),n("uploaded")},y=a=>e.error("\u4E0A\u4F20\u5931\u8D25: "+a.message);return(a,i)=>{const _=z,g=E;return F(),C(g,{action:t(x),headers:t(h),multiple:"",limit:1,"file-list":t(r),data:t(s),"on-error":y,"before-upload":t(c),"on-success":f},{tip:o(()=>[$("span",A,[w(a.$slots,"default",{},void 0,!0)])]),default:o(()=>[P(_,{type:"primary",plain:""},{default:o(()=>i[0]||(i[0]=[S(" \u70B9\u51FB\u4E0A\u4F20 ")])),_:1})]),_:3},8,["action","headers","file-list","data","before-upload"])}}}),[["__scopeId","data-v-c21a7348"]]);export{B as default};
