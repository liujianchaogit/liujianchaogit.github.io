import{_ as R}from"./ComponentContainerProperty-DzP8U5N9.js";import{aA as j,C as g,_ as D,X as F}from"./index-C1TKk8vI.js";import{_ as K}from"./index-Bkgip_a5.js";import{e as L}from"./couponTemplate-if6DBRiW.js";import{i as M,h as O}from"./constants-IYPHa1Ih.js";import{_ as T}from"./CouponSelect.vue_vue_type_script_setup_true_lang-B3O0DEjA.js";import{a7 as X,f as q,ai as B,ad as G,t as H,o as N,s as Q,A as W,h as Y}from"./form-designer-BpYekVAY.js";import{x as Z,r as h,f as $,y as m,z as d,O as e,F as a,u as t,M as x,a4 as ee,K as v,L as i,J as le,l as ae}from"./form-create-7GAbgMwl.js";import"./color-BN7ZL7BD.js";import"./Dialog.vue_vue_type_style_index_0_lang-CB5cl-Ts.js";import"./index.vue_vue_type_script_setup_true_lang-CrL0kGRz.js";import"./DictTag.vue_vue_type_script_lang-B3VNccaT.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-CXvvgLEc.js";import"./formatter-BBGnTCQg.js";import"./formatTime-EbFUBcAO.js";const te={key:0},oe={key:1},ue={key:2},pe=Z({name:"CouponCardProperty",__name:"property",props:{modelValue:{}},emits:["update:modelValue"],setup(w,{emit:C}){const o=j(w,"modelValue",C),n=h([]),V=h(),U=()=>{V.value.open()},k=()=>{o.value.couponIds=n.value.map(r=>r.id)};return $(()=>o.value.couponIds,async()=>{var r;((r=o.value.couponIds)==null?void 0:r.length)>0&&(n.value=await L(o.value.couponIds))},{immediate:!0,deep:!0}),(r,u)=>{const b=X,s=D,I=q,p=B,y=G,c=H,f=N,P=Q,z=F,_=K,S=W,A=Y,E=R;return m(),d(x,null,[e(E,{modelValue:t(o).style,"onUpdate:modelValue":u[6]||(u[6]=l=>t(o).style=l)},{default:a(()=>[e(A,{"label-width":"80px",model:t(o)},{default:a(()=>[e(y,{header:"\u4F18\u60E0\u5238\u5217\u8868",class:"property-group",shadow:"never"},{default:a(()=>[(m(!0),d(x,null,ee(t(n),(l,J)=>(m(),d("div",{key:J,class:"flex items-center justify-between"},[e(b,{size:"large",truncated:""},{default:a(()=>[v(i(l.name),1)]),_:2},1024),e(b,{type:"info",truncated:""},{default:a(()=>[l.usePrice>0?(m(),d("span",te,"\u6EE1"+i(t(g)(l.usePrice))+"\u5143\uFF0C",1)):le("",!0),l.discountType===t(M).PRICE.type?(m(),d("span",oe," \u51CF"+i(t(g)(l.discountPrice))+"\u5143 ",1)):(m(),d("span",ue," \u6253"+i(l.discountPercent)+"\u6298 ",1))]),_:2},1024)]))),128)),e(p,{"label-width":"0"},{default:a(()=>[e(I,{onClick:U,type:"primary",plain:"",class:"m-t-8px w-full"},{default:a(()=>[e(s,{icon:"ep:plus",class:"mr-5px"}),u[8]||(u[8]=v(" \u6DFB\u52A0 "))]),_:1})]),_:1})]),_:1}),e(y,{header:"\u4F18\u60E0\u5238\u6837\u5F0F",class:"property-group",shadow:"never"},{default:a(()=>[e(p,{label:"\u5217\u6570",prop:"type"},{default:a(()=>[e(P,{modelValue:t(o).columns,"onUpdate:modelValue":u[0]||(u[0]=l=>t(o).columns=l)},{default:a(()=>[e(f,{class:"item",content:"\u4E00\u5217",placement:"bottom"},{default:a(()=>[e(c,{value:1},{default:a(()=>[e(s,{icon:"fluent:text-column-one-24-filled"})]),_:1})]),_:1}),e(f,{class:"item",content:"\u4E8C\u5217",placement:"bottom"},{default:a(()=>[e(c,{value:2},{default:a(()=>[e(s,{icon:"fluent:text-column-two-24-filled"})]),_:1})]),_:1}),e(f,{class:"item",content:"\u4E09\u5217",placement:"bottom"},{default:a(()=>[e(c,{value:3},{default:a(()=>[e(s,{icon:"fluent:text-column-three-24-filled"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"\u80CC\u666F\u56FE\u7247",prop:"bgImg"},{default:a(()=>[e(z,{modelValue:t(o).bgImg,"onUpdate:modelValue":u[1]||(u[1]=l=>t(o).bgImg=l),height:"80px",width:"100%",class:"min-w-160px"},null,8,["modelValue"])]),_:1}),e(p,{label:"\u6587\u5B57\u989C\u8272",prop:"textColor"},{default:a(()=>[e(_,{modelValue:t(o).textColor,"onUpdate:modelValue":u[2]||(u[2]=l=>t(o).textColor=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u6309\u94AE\u80CC\u666F",prop:"button.bgColor"},{default:a(()=>[e(_,{modelValue:t(o).button.bgColor,"onUpdate:modelValue":u[3]||(u[3]=l=>t(o).button.bgColor=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u6309\u94AE\u6587\u5B57",prop:"button.color"},{default:a(()=>[e(_,{modelValue:t(o).button.color,"onUpdate:modelValue":u[4]||(u[4]=l=>t(o).button.color=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u95F4\u9694",prop:"space"},{default:a(()=>[e(S,{modelValue:t(o).space,"onUpdate:modelValue":u[5]||(u[5]=l=>t(o).space=l),max:100,min:0,"show-input":"","input-size":"small","show-input-controls":!1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(T,{ref_key:"couponSelectDialog",ref:V,"multiple-selection":t(n),"onUpdate:multipleSelection":u[7]||(u[7]=l=>ae(n)?n.value=l:null),"take-type":t(O).USER.type,onChange:k},null,8,["multiple-selection","take-type"])],64)}}});export{pe as default};
