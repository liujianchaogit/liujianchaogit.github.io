import{_ as G}from"./index-C1TKk8vI.js";import{_ as K}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CXvvgLEc.js";import{D as L}from"./index-DR2HTwYi.js";import{d as M}from"./formatTime-EbFUBcAO.js";import{_ as O}from"./DeviceDataDetail.vue_vue_type_script_setup_true_lang-BpyBQadG.js";import{k as P,ai as X,f as $,h as W,$ as z,_ as A,a1 as B,a0 as H,aj as J}from"./form-designer-BpYekVAY.js";import{x as N,r as d,X as Q,j as S,y as F,E as R,F as a,O as e,u as t,K as v,G as Y,C as U,l as Z}from"./form-create-7GAbgMwl.js";const ee=N({__name:"DeviceDetailsModel",props:{product:{},device:{}},setup(j){const _=j,n=d(!0),c=d([]),r=Q({deviceId:-1,identifier:void 0,name:void 0}),b=d(),p=d("status"),y=async()=>{n.value=!0;try{r.deviceId=_.device.id,c.value=await L.getLatestDeviceProperties(r)}finally{n.value=!1}},x=()=>{y()},I=()=>{b.value.resetFields(),r.identifier=void 0,r.name=void 0,x()},V=d();return S(()=>{y()}),(h,l)=>{const k=P,u=X,w=G,s=$,T=W,f=K,o=z,q=A,g=B,m=H,E=J;return F(),R(f,null,{default:a(()=>[e(g,{modelValue:t(p),"onUpdate:modelValue":l[2]||(l[2]=i=>Z(p)?p.value=i:null)},{default:a(()=>[e(m,{label:"\u8FD0\u884C\u72B6\u6001",name:"status"},{default:a(()=>[e(f,null,{default:a(()=>[e(T,{class:"-mb-15px",model:t(r),ref_key:"queryFormRef",ref:b,inline:!0,"label-width":"68px"},{default:a(()=>[e(u,{label:"\u6807\u8BC6\u7B26",prop:"identifier"},{default:a(()=>[e(k,{modelValue:t(r).identifier,"onUpdate:modelValue":l[0]||(l[0]=i=>t(r).identifier=i),placeholder:"\u8BF7\u8F93\u5165\u6807\u8BC6\u7B26",clearable:"",class:"!w-240px"},null,8,["modelValue"])]),_:1}),e(u,{label:"\u5C5E\u6027\u540D\u79F0",prop:"name"},{default:a(()=>[e(k,{modelValue:t(r).name,"onUpdate:modelValue":l[1]||(l[1]=i=>t(r).name=i),placeholder:"\u8BF7\u8F93\u5165\u5C5E\u6027\u540D\u79F0",clearable:"",class:"!w-240px"},null,8,["modelValue"])]),_:1}),e(u,null,{default:a(()=>[e(s,{onClick:x},{default:a(()=>[e(w,{icon:"ep:search",class:"mr-5px"}),l[3]||(l[3]=v(" \u641C\u7D22"))]),_:1}),e(s,{onClick:I},{default:a(()=>[e(w,{icon:"ep:refresh",class:"mr-5px"}),l[4]||(l[4]=v(" \u91CD\u7F6E"))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(f,null,{default:a(()=>[e(g,null,{default:a(()=>[Y((F(),R(q,{data:t(c),stripe:!0,"show-overflow-tooltip":!0},{default:a(()=>[e(o,{label:"\u5C5E\u6027\u6807\u8BC6\u7B26",align:"center",prop:"property.identifier"}),e(o,{label:"\u5C5E\u6027\u540D\u79F0",align:"center",prop:"property.name"}),e(o,{label:"\u6570\u636E\u7C7B\u578B",align:"center",prop:"property.dataType"}),e(o,{label:"\u5C5E\u6027\u503C",align:"center",prop:"value"}),e(o,{label:"\u66F4\u65B0\u65F6\u95F4",align:"center",prop:"updateTime",formatter:t(M),width:"180px"},null,8,["formatter"]),e(o,{label:"\u64CD\u4F5C",align:"center"},{default:a(i=>[e(s,{link:"",type:"primary",onClick:ae=>{return C=_.device.id,D=i.row.property.identifier,void V.value.open(C,D);var C,D}},{default:a(()=>l[5]||(l[5]=[v(" \u67E5\u770B\u6570\u636E ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[E,t(n)]])]),_:1}),e(O,{ref_key:"detailRef",ref:V,device:h.device,product:h.product},null,8,["device","product"])]),_:1})]),_:1}),e(m,{label:"\u4E8B\u4EF6\u7BA1\u7406",name:"event"},{default:a(()=>l[6]||(l[6]=[U("p",null,"\u4E8B\u4EF6\u7BA1\u7406",-1)])),_:1}),e(m,{label:"\u670D\u52A1\u8C03\u7528",name:"service"},{default:a(()=>l[7]||(l[7]=[U("p",null,"\u670D\u52A1\u8C03\u7528",-1)])),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{ee as _};
