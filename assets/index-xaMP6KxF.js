import{G as T}from"./index-DiGvuAxb.js";import{b as B}from"./spu-CLGmBlok.js";import{ak as z,e as _}from"./form-designer-drfGvdgz.js";import{k as C,r as o,b as h,e as G,y as L,m as t,z as j,v,N as l,u as r,l as i,G as I,$ as U,C as x,H as b,B as F,F as g}from"./form-create-D7wT855o.js";const H={key:0,class:"absolute left-0 top-0 z-1 items-center justify-center"},N=C({name:"ProductList",__name:"index",props:{property:{}},setup(R){const a=R,s=o([]);h(()=>a.property.spuIds,async()=>{s.value=await B(a.property.spuIds)},{immediate:!0,deep:!0});const u=o(375),m=o(),p=o(2),d=o("100%"),c=o("0"),y=o("");return h(()=>[a.property,u,s.value.length],()=>{p.value=a.property.layoutType==="twoCol"?2:3;const e=(u.value-a.property.space*(p.value-1))/p.value;c.value=p.value===2?"64px":`${e}px`,a.property.layoutType==="horizSwiper"?(y.value=`repeat(auto-fill, ${e}px)`,d.value=e*s.value.length+a.property.space*(s.value.length-1)+"px"):(y.value=`repeat(${p.value}, auto)`,d.value="100%")},{immediate:!0,deep:!0}),G(()=>{var e,f;u.value=((f=(e=m.value)==null?void 0:e.wrapRef)==null?void 0:f.offsetWidth)||375}),(e,f)=>{const w=z,$=_;return t(),L($,{class:"z-1 min-h-30px","wrap-class":"w-full",ref_key:"containerRef",ref:m},{default:j(()=>[v("div",{class:"grid overflow-x-auto",style:l({gridGap:`${e.property.space}px`,gridTemplateColumns:r(y),width:r(d)})},[(t(!0),i(I,null,U(r(s),(n,k)=>(t(),i("div",{class:"relative box-content flex flex-row flex-wrap overflow-hidden bg-white",style:l({borderTopLeftRadius:`${e.property.borderRadiusTop}px`,borderTopRightRadius:`${e.property.borderRadiusTop}px`,borderBottomLeftRadius:`${e.property.borderRadiusBottom}px`,borderBottomRightRadius:`${e.property.borderRadiusBottom}px`}),key:k},[e.property.badge.show?(t(),i("div",H,[b(w,{fit:"cover",src:e.property.badge.imgUrl,class:"h-26px w-38px"},null,8,["src"])])):x("",!0),b(w,{fit:"cover",src:n.picUrl,style:l({width:r(c),height:r(c)})},null,8,["src","style"]),v("div",{class:F(["flex flex-col gap-8px p-8px box-border",{"w-[calc(100%-64px)]":r(p)===2,"w-full":r(p)===3}])},[e.property.fields.name.show?(t(),i("div",{key:0,class:"truncate text-12px",style:l({color:e.property.fields.name.color})},g(n.name),5)):x("",!0),v("div",null,[e.property.fields.price.show?(t(),i("span",{key:0,class:"text-12px",style:l({color:e.property.fields.price.color})}," \uFFE5"+g(r(T)(n.price)),5)):x("",!0)])],2)],4))),128))],4)]),_:1},512)}}});export{N as default};
