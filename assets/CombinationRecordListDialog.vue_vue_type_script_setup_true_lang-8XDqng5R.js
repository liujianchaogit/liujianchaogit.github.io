import{V as f,D as C}from"./index-C1TKk8vI.js";import{_ as D}from"./Dialog.vue_vue_type_style_index_0_lang-CB5cl-Ts.js";import{_ as U}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CXvvgLEc.js";import{_ as V}from"./index.vue_vue_type_script_setup_true_lang-CrL0kGRz.js";import{_ as z}from"./DictTag.vue_vue_type_script_lang-B3VNccaT.js";import{d as _}from"./formatTime-EbFUBcAO.js";import{$ as L,af as A,a6 as j,_ as E,aj as M}from"./form-designer-BpYekVAY.js";import{x as P,r as m,X as k,y as w,E as h,F as o,O as a,G as B,u as t,K as F,L as G,l as K}from"./form-create-7GAbgMwl.js";const b=async u=>await f.get({url:"/promotion/combination-record/page",params:u}),X=async()=>await f.get({url:"/promotion/combination-record/get-summary"}),$=P({name:"CombinationRecordListDialog",__name:"CombinationRecordListDialog",setup(u,{expose:v}){const p=m(!0),d=m(0),c=m([]),i=k({pageNo:1,pageSize:10,headId:void 0}),s=m(!1);v({open:async n=>{s.value=!0,i.headId=n,await g()}});const g=async()=>{p.value=!0;try{const n=await b(i);c.value=n.list,d.value=n.total}finally{p.value=!1}};return(n,r)=>{const l=L,y=A,I=j,O=z,N=E,T=V,R=U,S=D,x=M;return w(),h(S,{modelValue:t(s),"onUpdate:modelValue":r[2]||(r[2]=e=>K(s)?s.value=e:null),title:"\u62FC\u56E2\u5217\u8868",width:"950"},{default:o(()=>[a(R,null,{default:o(()=>[B((w(),h(N,{data:t(c)},{default:o(()=>[a(l,{align:"center",label:"\u7F16\u53F7",prop:"id","min-width":"50"}),a(l,{align:"center",label:"\u5934\u50CF",prop:"avatar","min-width":"80"},{default:o(e=>[a(y,{src:e.row.avatar},null,8,["src"])]),_:1}),a(l,{align:"center",label:"\u6635\u79F0",prop:"nickname","min-width":"100"}),a(l,{align:"center",label:"\u5F00\u56E2\u56E2\u957F",prop:"headId","min-width":"100"},{default:o(({row:e})=>[a(I,null,{default:o(()=>[F(G(e.headId===0?"\u56E2\u957F":"\u56E2\u5458"),1)]),_:2},1024)]),_:1}),a(l,{formatter:t(_),align:"center",label:"\u53C2\u56E2\u65F6\u95F4",prop:"createTime",width:"180"},null,8,["formatter"]),a(l,{formatter:t(_),align:"center",label:"\u7ED3\u675F\u65F6\u95F4",prop:"endTime",width:"180"},null,8,["formatter"]),a(l,{align:"center",label:"\u62FC\u56E2\u72B6\u6001",prop:"status","min-width":"150"},{default:o(e=>[a(O,{type:t(C).PROMOTION_COMBINATION_RECORD_STATUS,value:e.row.status},null,8,["type","value"])]),_:1})]),_:1},8,["data"])),[[x,t(p)]]),a(T,{limit:t(i).pageSize,"onUpdate:limit":r[0]||(r[0]=e=>t(i).pageSize=e),page:t(i).pageNo,"onUpdate:page":r[1]||(r[1]=e=>t(i).pageNo=e),total:t(d),onPagination:g},null,8,["limit","page","total"])]),_:1})]),_:1},8,["modelValue"])}}});export{$ as _,X as a,b as g};
