import{a as o}from"./constants-IYPHa1Ih.js";import{_ as c}from"./index.vue_vue_type_style_index_0_lang-CPb3k5fl.js";import{_ as k}from"./SimpleModelDesign.vue_vue_type_script_setup_true_lang-CIybqRfg.js";import{x as f,aF as M,c as _,u as t,y as l,z as r,E as u,J as n,M as i,i as w,n as B}from"./form-create-7GAbgMwl.js";const P=f({__name:"ProcessDesign",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(p,{expose:y}){const e=M(p,"modelValue"),v=w("processData"),m=async a=>{if(a){const s={...e.value,bpmnXml:e.value.type===o.BPMN?a:null,simpleModel:e.value.type===o.BPMN?null:a};await B(),e.value=s}},d=_(()=>{var a,s;return!!((a=e.value)!=null&&a.key&&((s=e.value)!=null&&s.name))});return y({validate:async()=>{try{if(!v.value)throw new Error("\u8BF7\u8BBE\u8BA1\u6D41\u7A0B");return!0}catch(a){throw a}}}),(a,s)=>e.value.type===t(o).BPMN?(l(),r(i,{key:0},[t(d)?(l(),u(c,{key:0,"model-id":e.value.id,"model-key":e.value.key,"model-name":e.value.name,onSuccess:m},null,8,["model-id","model-key","model-name"])):n("",!0)],64)):(l(),r(i,{key:1},[t(d)?(l(),u(k,{key:0,"model-id":e.value.id,"model-key":e.value.key,"model-name":e.value.name,"start-user-ids":e.value.startUserIds,"start-dept-ids":e.value.startDeptIds,onSuccess:m},null,8,["model-id","model-key","model-name","start-user-ids","start-dept-ids"])):n("",!0)],64))}});export{P as _};
