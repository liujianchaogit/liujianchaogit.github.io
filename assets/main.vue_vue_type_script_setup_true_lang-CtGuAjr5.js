import{d as g,u as x}from"./index-C1TKk8vI.js";import{f as w}from"./index-KUcy92Cr.js";import{u as V}from"./tagsView-C2oS-OQq.js";import{Q as _,x as y}from"./form-designer-BpYekVAY.js";import{x as b,X as j,r as k,j as A,y as t,E as u,F as M,z,M as C,a4 as E,u as s}from"./form-create-7GAbgMwl.js";const F=b({name:"WxAccountSelect",__name:"main",emits:["change"],setup(Q,{emit:r}){const d=g(),{delView:c}=V(),{push:p,currentRoute:f}=x(),a=j({id:-1,name:""}),e=k([]),i=r,v=o=>{const n=e.value.find(m=>m.id===o);a.id&&(a.name=n?n.name:"",i("change",a.id,a.name))};return A(()=>{(async()=>{if(e.value=await w(),e.value.length==0)return d.error("\u672A\u914D\u7F6E\u516C\u4F17\u53F7\uFF0C\u8BF7\u5728\u3010\u516C\u4F17\u53F7\u7BA1\u7406 -> \u8D26\u53F7\u7BA1\u7406\u3011\u83DC\u5355\uFF0C\u8FDB\u884C\u914D\u7F6E"),c(s(f)),void await p({name:"MpAccount"});e.value.length>0&&(a.id=e.value[0].id,a.id&&(a.name=e.value[0].name,i("change",a.id,a.name)))})()}),(o,n)=>{const m=_,h=y;return t(),u(h,{modelValue:s(a).id,"onUpdate:modelValue":n[0]||(n[0]=l=>s(a).id=l),placeholder:"\u8BF7\u9009\u62E9\u516C\u4F17\u53F7",class:"!w-240px",onChange:v},{default:M(()=>[(t(!0),z(C,null,E(s(e),l=>(t(),u(m,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])}}});export{F as _};
