import{d as T,c as Y}from"./index-DiGvuAxb.js";import{I as $}from"./index-B9Vi4PGf.js";import{I as j,O as q,b as B}from"./constants-CHvLs4wt.js";import{a6 as J,k as K,f as L,as as M,x as P,Q as R}from"./form-designer-drfGvdgz.js";import{k as W,r as o,b as X,l as h,m,G as V,v as s,H as a,z as u,E as r,h as y,u as t,$ as C,y as I,F as A}from"./form-create-D7wT855o.js";const Z={class:"prompt"},ll={class:"hot-words"},el={class:"group-item"},al={class:"group-item"},ul={class:"group-item"},tl={class:"btns"},sl=Y(W({__name:"index",props:{models:{type:Array,default:()=>[]}},emits:["onDrawStart","onDrawComplete"],setup(E,{expose:F,emit:H}){const N=T(),U=E,z=H,g=o(!1),b=o(""),n=o(""),c=o(512),f=o(512),p=o(B.TONG_YI),w=o([]),i=o(),Q=async()=>{await N.confirm("\u786E\u8BA4\u751F\u6210\u5185\u5BB9?");try{g.value=!0,z("onDrawStart",p.value);const d={platform:p.value,modelId:i.value,prompt:n.value,width:c.value,height:f.value,options:{}};await $.drawImage(d)}finally{z("onDrawComplete",p.value),g.value=!1}},D=async d=>{w.value=U.models.filter(l=>l.platform===d),w.value.length>0?i.value=w.value[0].id:i.value=void 0};return X(()=>U.models,()=>{D(p.value)},{immediate:!0,deep:!0}),F({settingValues:async d=>{n.value=d.prompt,c.value=d.width,f.value=d.height}}),(d,l)=>{const v=J,x=K,S=L,_=M,O=R,G=P;return m(),h(V,null,[s("div",Z,[a(v,{tag:"b"},{default:u(()=>l[5]||(l[5]=[r("\u753B\u9762\u63CF\u8FF0")])),_:1}),a(v,{tag:"p"},{default:u(()=>l[6]||(l[6]=[r("\u5EFA\u8BAE\u4F7F\u7528\u201C\u5F62\u5BB9\u8BCD + \u52A8\u8BCD + \u98CE\u683C\u201D\u7684\u683C\u5F0F\uFF0C\u4F7F\u7528\u201C\uFF0C\u201D\u9694\u5F00")])),_:1}),a(x,{modelValue:t(n),"onUpdate:modelValue":l[0]||(l[0]=e=>y(n)?n.value=e:null),maxlength:"1024",rows:5,class:"w-100% mt-15px","input-style":"border-radius: 7px;",placeholder:"\u4F8B\u5982\uFF1A\u7AE5\u8BDD\u91CC\u7684\u5C0F\u5C4B\u5E94\u8BE5\u662F\u4EC0\u4E48\u6837\u5B50\uFF1F","show-word-limit":"",type:"textarea"},null,8,["modelValue"])]),s("div",ll,[s("div",null,[a(v,{tag:"b"},{default:u(()=>l[7]||(l[7]=[r("\u968F\u673A\u70ED\u8BCD")])),_:1})]),a(_,{wrap:"",class:"word-list"},{default:u(()=>[(m(!0),h(V,null,C(t(j),e=>(m(),I(S,{round:"",class:"btn",type:t(b)===e?"primary":"default",key:e,onClick:dl=>(async k=>{b.value!=k?(b.value=k,n.value=k):b.value=""})(e)},{default:u(()=>[r(A(e),1)]),_:2},1032,["type","onClick"]))),128))]),_:1})]),s("div",el,[s("div",null,[a(v,{tag:"b"},{default:u(()=>l[8]||(l[8]=[r("\u5E73\u53F0")])),_:1})]),a(_,{wrap:"",class:"group-item-body"},{default:u(()=>[a(G,{modelValue:t(p),"onUpdate:modelValue":l[1]||(l[1]=e=>y(p)?p.value=e:null),placeholder:"Select",size:"large",class:"!w-350px",onChange:D},{default:u(()=>[(m(!0),h(V,null,C(t(q),e=>(m(),I(O,{key:e.key,label:e.name,value:e.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),s("div",al,[s("div",null,[a(v,{tag:"b"},{default:u(()=>l[9]||(l[9]=[r("\u6A21\u578B")])),_:1})]),a(_,{wrap:"",class:"group-item-body"},{default:u(()=>[a(G,{modelValue:t(i),"onUpdate:modelValue":l[2]||(l[2]=e=>y(i)?i.value=e:null),placeholder:"Select",size:"large",class:"!w-350px"},{default:u(()=>[(m(!0),h(V,null,C(t(w),e=>(m(),I(O,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),s("div",ul,[s("div",null,[a(v,{tag:"b"},{default:u(()=>l[10]||(l[10]=[r("\u56FE\u7247\u5C3A\u5BF8")])),_:1})]),a(_,{wrap:"",class:"group-item-body"},{default:u(()=>[a(x,{modelValue:t(c),"onUpdate:modelValue":l[3]||(l[3]=e=>y(c)?c.value=e:null),type:"number",class:"w-170px",placeholder:"\u56FE\u7247\u5BBD\u5EA6"},null,8,["modelValue"]),a(x,{modelValue:t(f),"onUpdate:modelValue":l[4]||(l[4]=e=>y(f)?f.value=e:null),type:"number",class:"w-170px",placeholder:"\u56FE\u7247\u9AD8\u5EA6"},null,8,["modelValue"])]),_:1})]),s("div",tl,[a(S,{type:"primary",size:"large",round:"",loading:t(g),disabled:t(n).length===0,onClick:Q},{default:u(()=>[r(A(t(g)?"\u751F\u6210\u4E2D":"\u751F\u6210\u5185\u5BB9"),1)]),_:1},8,["loading","disabled"])])],64)}}}),[["__scopeId","data-v-bc6fad9b"]]);export{sl as default};
