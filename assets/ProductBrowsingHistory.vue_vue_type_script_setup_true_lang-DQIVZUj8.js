import{V as m}from"./index-C1TKk8vI.js";import d from"./ProductItem-CdAfGMsV.js";import{b0 as g}from"./form-designer-BpYekVAY.js";import{x as y,r as l,X as v,c as f,y as u,z as w,a4 as k,E as x,u as I,M as N}from"./form-create-7GAbgMwl.js";const p=i=>m.get({url:"/product/browse-history/page",params:i}),b=y({name:"ProductBrowsingHistory",__name:"ProductBrowsingHistory",setup(i,{expose:c}){const o=l([]),t=l(0),a=v({pageNo:1,pageSize:10,userId:0,userDeleted:!1}),n=f(()=>t.value>0&&Math.ceil(t.value/a.pageSize)===a.pageNo);return c({getHistoryList:async e=>{a.userId=e.userId;const r=await p(a);t.value=r.total,o.value=r.list},loadMore:async()=>{if(n.value)return;a.pageNo+=1;const e=await p(a);t.value=e.total,g(o.value,e.list)}}),(e,r)=>(u(!0),w(N,null,k(I(o),s=>(u(),x(d,{key:s.id,picUrl:s.picUrl,price:s.price,"sales-count":s.salesCount,"spu-id":s.spuId,stock:s.stock,title:s.spuName,class:"mb-10px"},null,8,["picUrl","price","sales-count","spu-id","stock","title"]))),128))}});export{b as _};
