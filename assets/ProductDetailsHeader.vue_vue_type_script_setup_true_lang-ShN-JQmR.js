import{_ as S}from"./ContentWrap.vue_vue_type_script_setup_true_lang-C0SI8VIx.js";import{d as g,u as j}from"./index-DiGvuAxb.js";import{_ as D}from"./ProductForm.vue_vue_type_script_setup_true_lang-CYtn9SFe.js";import{P as w}from"./index-y2Iw13c9.js";import{j as H,i as I,f as T,al as F,am as A}from"./form-designer-drfGvdgz.js";import{k as E,r as G,af as R,l as q,m as n,G as B,v as i,H as o,z as a,F as y,A as _,C as v,y as h,E as u}from"./form-create-D7wT855o.js";const J={class:"flex items-start justify-between"},L={class:"text-xl font-bold"},M=E({__name:"ProductDetailsHeader",props:{product:{}},emits:["refresh"],setup(N,{emit:x}){const r=g(),{push:P}=j(),f=x,p=G();return(e,t)=>{const b=I,z=H,c=T,k=A,C=F,K=S,m=R("hasPermi");return n(),q(B,null,[i("div",null,[i("div",J,[i("div",null,[o(z,null,{default:a(()=>[o(b,null,{default:a(()=>[i("span",L,y(e.product.name),1)]),_:1})]),_:1})]),i("div",null,[e.product.status===0?_((n(),h(c,{key:0,onClick:t[0]||(t[0]=d=>{return s="update",l=e.product.id,void p.value.open(s,l);var s,l})},{default:a(()=>t[6]||(t[6]=[u(" \u7F16\u8F91 ")])),_:1})),[[m,["iot:product:update"]]]):v("",!0),e.product.status===0?_((n(),h(c,{key:1,type:"primary",onClick:t[1]||(t[1]=d=>(async s=>{try{await w.updateProductStatus(s,1),r.success("\u53D1\u5E03\u6210\u529F"),p.value.close(),f("refresh")}catch{r.error("\u53D1\u5E03\u5931\u8D25")}})(e.product.id))},{default:a(()=>t[7]||(t[7]=[u(" \u53D1\u5E03 ")])),_:1})),[[m,["iot:product:update"]]]):v("",!0),e.product.status===1?_((n(),h(c,{key:2,type:"danger",onClick:t[2]||(t[2]=d=>(async s=>{try{await w.updateProductStatus(s,0),r.success("\u64A4\u9500\u53D1\u5E03\u6210\u529F"),p.value.close(),f("refresh")}catch{r.error("\u64A4\u9500\u53D1\u5E03\u5931\u8D25")}})(e.product.id))},{default:a(()=>t[8]||(t[8]=[u(" \u64A4\u9500\u53D1\u5E03 ")])),_:1})),[[m,["iot:product:update"]]]):v("",!0)])])]),o(K,{class:"mt-10px"},{default:a(()=>[o(C,{column:5,direction:"horizontal"},{default:a(()=>[o(k,{label:"ProductKey"},{default:a(()=>[u(y(e.product.productKey)+" ",1),o(c,{onClick:t[3]||(t[3]=d=>(async s=>{try{await navigator.clipboard.writeText(s),r.success("\u590D\u5236\u6210\u529F")}catch{r.error("\u590D\u5236\u5931\u8D25")}})(e.product.productKey))},{default:a(()=>t[9]||(t[9]=[u("\u590D\u5236")])),_:1})]),_:1})]),_:1}),o(C,{column:5,direction:"horizontal"},{default:a(()=>[o(k,{label:"\u8BBE\u5907\u6570"},{default:a(()=>[u(y(e.product.deviceCount??"\u52A0\u8F7D\u4E2D...")+" ",1),o(c,{onClick:t[4]||(t[4]=d=>{return s=e.product.id,void P({name:"IoTDevice",params:{productId:s}});var s})},{default:a(()=>t[10]||(t[10]=[u("\u524D\u5F80\u7BA1\u7406")])),_:1})]),_:1})]),_:1})]),_:1}),o(D,{ref_key:"formRef",ref:p,onSuccess:t[5]||(t[5]=d=>f("refresh"))},null,512)],64)}}});export{M as _};
