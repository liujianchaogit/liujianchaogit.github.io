import{_ as z,c as B}from"./index-DiGvuAxb.js";import{ac as E,a1 as H,f as L,b as x,aQ as D,a2 as M,a3 as P}from"./form-designer-drfGvdgz.js";import{k as R,r as U,l as r,m as d,G as A,$ as F,H as a,z as s,C as G,v as o,u as I,E as u,F as y}from"./form-create-D7wT855o.js";const j={key:0,class:"more-container"},Q={class:"el-dropdown-link"},S=["src"],T={class:"right-container"},$={class:"content-container"},J={class:"title"},K={class:"description"},N={class:"btn-container"},O=B(R({__name:"RoleList",props:{loading:{type:Boolean,required:!0},roleList:{type:Array,required:!0},showMore:{type:Boolean,required:!1,default:!1}},emits:["onDelete","onEdit","onUse","onPage"],setup(i,{emit:_}){const c=U(),g=i,m=_,k=async t=>{const e=t[0],n=t[1];m(e==="delete"?"onDelete":"onEdit",n)},b=async()=>{if(c.value){const{scrollTop:t,scrollHeight:e,clientHeight:n}=c.value;t+n>=e-20&&!g.loading&&await m("onPage")}};return(t,e)=>{const n=x,p=L,f=z,v=P,h=M,w=H,C=E;return d(),r("div",{class:"card-list",ref_key:"tabsRef",ref:c,onScroll:b},[(d(!0),r(A,null,F(i.roleList,l=>(d(),r("div",{class:"card-item",key:l.id},[a(C,{class:"card","body-class":"card-body"},{default:s(()=>[i.showMore?(d(),r("div",j,[a(w,{onCommand:k},{dropdown:s(()=>[a(h,null,{default:s(()=>[a(v,{command:["edit",l]},{default:s(()=>[a(f,{icon:"ep:edit",color:"#787878"}),e[0]||(e[0]=u("\u7F16\u8F91 "))]),_:2},1032,["command"]),a(v,{command:["delete",l],style:{color:"red"}},{default:s(()=>[a(f,{icon:"ep:delete",color:"red"}),e[1]||(e[1]=u("\u5220\u9664 "))]),_:2},1032,["command"])]),_:2},1024)]),default:s(()=>[o("span",Q,[a(p,{type:"text"},{default:s(()=>[a(n,null,{default:s(()=>[a(I(D))]),_:1})]),_:1})])]),_:2},1024)])):G("",!0),o("div",null,[o("img",{class:"avatar",src:l.avatar},null,8,S)]),o("div",T,[o("div",$,[o("div",J,y(l.name),1),o("div",K,y(l.description),1)]),o("div",N,[a(p,{type:"primary",size:"small",onClick:V=>(q=>{m("onUse",q)})(l)},{default:s(()=>e[2]||(e[2]=[u("\u4F7F\u7528")])),_:2},1032,["onClick"])])])]),_:2},1024)]))),128))],544)}}}),[["__scopeId","data-v-a5e67bd5"]]);export{O as default};
