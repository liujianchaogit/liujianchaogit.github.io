import{h as V,d as x,u as I}from"./index-C1TKk8vI.js";import{u as h}from"./tagsView-C2oS-OQq.js";import{D as j}from"./index-DR2HTwYi.js";import{D as A,P as E}from"./index-DDlNWlg-.js";import{_ as P}from"./DeviceDetailsHeader.vue_vue_type_script_setup_true_lang-CDgzi_vE.js";import{_ as R}from"./DeviceDetailsInfo.vue_vue_type_script_setup_true_lang-L5eau7KL.js";import{_ as q}from"./DeviceDetailsModel.vue_vue_type_script_setup_true_lang-Sg6H7tt4.js";import{_ as F}from"./DeviceDetailsLog.vue_vue_type_script_setup_true_lang-DZ-4wprx.js";import{_ as M}from"./DeviceDetailsSimulator.vue_vue_type_script_setup_true_lang-Di82JpP2.js";import{_ as S}from"./DeviceDetailConfig.vue_vue_type_script_setup_true_lang-c8Fxszkh.js";import{a0 as W,a1 as z,j as C}from"./form-designer-BpYekVAY.js";import{x as G,r as n,j as J,u as e,y as r,z as K,O as a,F as t,l as O,E as u,J as d,M as U}from"./form-create-7GAbgMwl.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-CXvvgLEc.js";import"./DeviceForm.vue_vue_type_script_setup_true_lang-0_dTGe-A.js";import"./Dialog.vue_vue_type_style_index_0_lang-CB5cl-Ts.js";import"./index-BAzhGSOD.js";import"./DictTag.vue_vue_type_script_lang-B3VNccaT.js";import"./color-BN7ZL7BD.js";import"./formatTime-EbFUBcAO.js";import"./DeviceDataDetail.vue_vue_type_script_setup_true_lang-BpyBQadG.js";import"./index.vue_vue_type_script_setup_true_lang-CrL0kGRz.js";import"./index-BGHavkVr.js";import"./config-6hyG0uwh.js";import"./DataDefinition.vue_vue_type_script_setup_true_lang-BTvsCRFS.js";const Y=G({name:"IoTDeviceDetail",__name:"index",setup(B){const v=V(),b=x(),p=v.params.id,c=n(!0),m=n({}),l=n({}),o=n("info"),f=async()=>{c.value=!0;try{l.value=await j.getDevice(p),await g(l.value.productId)}finally{c.value=!1}},g=async y=>{m.value=await E.getProduct(y)},{delView:k}=h(),{currentRoute:w}=I();return J(async()=>{if(!p)return b.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u4EA7\u54C1\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void k(e(w));await f(),o.value=v.query.tab||"info"}),(y,s)=>{const i=W,D=z,T=C;return r(),K(U,null,[a(P,{loading:e(c),product:e(m),device:e(l),onRefresh:s[0]||(s[0]=_=>f(e(p)))},null,8,["loading","product","device"]),a(T,null,{default:t(()=>[a(D,{modelValue:e(o),"onUpdate:modelValue":s[1]||(s[1]=_=>O(o)?o.value=_:null)},{default:t(()=>[a(i,{label:"\u8BBE\u5907\u4FE1\u606F",name:"info"},{default:t(()=>[e(o)==="info"?(r(),u(R,{key:0,product:e(m),device:e(l)},null,8,["product","device"])):d("",!0)]),_:1}),a(i,{label:"Topic \u5217\u8868"}),a(i,{label:"\u7269\u6A21\u578B\u6570\u636E",name:"model"},{default:t(()=>[e(o)==="model"?(r(),u(q,{key:0,product:e(m),device:e(l)},null,8,["product","device"])):d("",!0)]),_:1}),e(m).deviceType===e(A).GATEWAY?(r(),u(i,{key:0,label:"\u5B50\u8BBE\u5907\u7BA1\u7406"})):d("",!0),a(i,{label:"\u8BBE\u5907\u5F71\u5B50"}),a(i,{label:"\u8BBE\u5907\u65E5\u5FD7",name:"log"},{default:t(()=>[e(o)==="log"?(r(),u(F,{key:0,"device-key":e(l).deviceKey},null,8,["device-key"])):d("",!0)]),_:1}),a(i,{label:"\u6A21\u62DF\u8BBE\u5907",name:"simulator"},{default:t(()=>[e(o)==="simulator"?(r(),u(M,{key:0,product:e(m),device:e(l)},null,8,["product","device"])):d("",!0)]),_:1}),a(i,{label:"\u8BBE\u5907\u914D\u7F6E",name:"config"},{default:t(()=>[e(o)==="config"?(r(),u(S,{key:0,device:e(l),onSuccess:f},null,8,["device"])):d("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}});export{Y as default};
