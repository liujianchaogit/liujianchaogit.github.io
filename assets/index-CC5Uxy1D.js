import{d as M,c as N}from"./index-C1TKk8vI.js";import{I as Q}from"./index-DMuhgnKl.js";import{b as Y,I as j,O as q}from"./constants-DawjRUyr.js";import{a7 as B,k as H,f as J,as as P,Q as R,x as W}from"./form-designer-BpYekVAY.js";import{x as X,r as o,f as Z,y as m,z as h,C as s,O as a,F as u,K as r,u as t,l as y,M as V,a4 as C,E as I,L as A}from"./form-create-7GAbgMwl.js";const $={class:"prompt"},ll={class:"hot-words"},el={class:"group-item"},al={class:"group-item"},ul={class:"group-item"},tl={class:"btns"},sl=N(X({__name:"index",props:{models:{type:Array,default:()=>[]}},emits:["onDrawStart","onDrawComplete"],setup(E,{expose:F,emit:G}){const K=M(),U=E,z=G,g=o(!1),w=o(""),n=o(""),c=o(512),f=o(512),p=o(Y.TONG_YI),b=o([]),i=o(),L=async()=>{await K.confirm("\u786E\u8BA4\u751F\u6210\u5185\u5BB9?");try{g.value=!0,z("onDrawStart",p.value);const d={platform:p.value,modelId:i.value,prompt:n.value,width:c.value,height:f.value,options:{}};await Q.drawImage(d)}finally{z("onDrawComplete",p.value),g.value=!1}},D=async d=>{b.value=U.models.filter(l=>l.platform===d),b.value.length>0?i.value=b.value[0].id:i.value=void 0};return Z(()=>U.models,()=>{D(p.value)},{immediate:!0,deep:!0}),F({settingValues:async d=>{n.value=d.prompt,c.value=d.width,f.value=d.height}}),(d,l)=>{const v=B,x=H,S=J,_=P,O=R,T=W;return m(),h(V,null,[s("div",$,[a(v,{tag:"b"},{default:u(()=>l[5]||(l[5]=[r("\u753B\u9762\u63CF\u8FF0")])),_:1}),a(v,{tag:"p"},{default:u(()=>l[6]||(l[6]=[r("\u5EFA\u8BAE\u4F7F\u7528\u201C\u5F62\u5BB9\u8BCD + \u52A8\u8BCD + \u98CE\u683C\u201D\u7684\u683C\u5F0F\uFF0C\u4F7F\u7528\u201C\uFF0C\u201D\u9694\u5F00")])),_:1}),a(x,{modelValue:t(n),"onUpdate:modelValue":l[0]||(l[0]=e=>y(n)?n.value=e:null),maxlength:"1024",rows:5,class:"w-100% mt-15px","input-style":"border-radius: 7px;",placeholder:"\u4F8B\u5982\uFF1A\u7AE5\u8BDD\u91CC\u7684\u5C0F\u5C4B\u5E94\u8BE5\u662F\u4EC0\u4E48\u6837\u5B50\uFF1F","show-word-limit":"",type:"textarea"},null,8,["modelValue"])]),s("div",ll,[s("div",null,[a(v,{tag:"b"},{default:u(()=>l[7]||(l[7]=[r("\u968F\u673A\u70ED\u8BCD")])),_:1})]),a(_,{wrap:"",class:"word-list"},{default:u(()=>[(m(!0),h(V,null,C(t(j),e=>(m(),I(S,{round:"",class:"btn",type:t(w)===e?"primary":"default",key:e,onClick:dl=>(async k=>{w.value!=k?(w.value=k,n.value=k):w.value=""})(e)},{default:u(()=>[r(A(e),1)]),_:2},1032,["type","onClick"]))),128))]),_:1})]),s("div",el,[s("div",null,[a(v,{tag:"b"},{default:u(()=>l[8]||(l[8]=[r("\u5E73\u53F0")])),_:1})]),a(_,{wrap:"",class:"group-item-body"},{default:u(()=>[a(T,{modelValue:t(p),"onUpdate:modelValue":l[1]||(l[1]=e=>y(p)?p.value=e:null),placeholder:"Select",size:"large",class:"!w-350px",onChange:D},{default:u(()=>[(m(!0),h(V,null,C(t(q),e=>(m(),I(O,{key:e.key,label:e.name,value:e.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),s("div",al,[s("div",null,[a(v,{tag:"b"},{default:u(()=>l[9]||(l[9]=[r("\u6A21\u578B")])),_:1})]),a(_,{wrap:"",class:"group-item-body"},{default:u(()=>[a(T,{modelValue:t(i),"onUpdate:modelValue":l[2]||(l[2]=e=>y(i)?i.value=e:null),placeholder:"Select",size:"large",class:"!w-350px"},{default:u(()=>[(m(!0),h(V,null,C(t(b),e=>(m(),I(O,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),s("div",ul,[s("div",null,[a(v,{tag:"b"},{default:u(()=>l[10]||(l[10]=[r("\u56FE\u7247\u5C3A\u5BF8")])),_:1})]),a(_,{wrap:"",class:"group-item-body"},{default:u(()=>[a(x,{modelValue:t(c),"onUpdate:modelValue":l[3]||(l[3]=e=>y(c)?c.value=e:null),type:"number",class:"w-170px",placeholder:"\u56FE\u7247\u5BBD\u5EA6"},null,8,["modelValue"]),a(x,{modelValue:t(f),"onUpdate:modelValue":l[4]||(l[4]=e=>y(f)?f.value=e:null),type:"number",class:"w-170px",placeholder:"\u56FE\u7247\u9AD8\u5EA6"},null,8,["modelValue"])]),_:1})]),s("div",tl,[a(S,{type:"primary",size:"large",round:"",loading:t(g),disabled:t(n).length===0,onClick:L},{default:u(()=>[r(A(t(g)?"\u751F\u6210\u4E2D":"\u751F\u6210\u5185\u5BB9"),1)]),_:1},8,["loading","disabled"])])],64)}}}),[["__scopeId","data-v-bc6fad9b"]]);export{sl as default};
