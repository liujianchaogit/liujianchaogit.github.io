import{_ as P}from"./index-DiGvuAxb.js";import{J as R,K as q}from"./consts-CvaDWb4S.js";import{g as L,i as X}from"./node-CQ9Ble-i.js";import{ai as O,k as S,x as A,Q as z,f as H,R as B}from"./form-designer-drfGvdgz.js";import{k as M,l as t,m as u,G as b,H as l,z as d,$ as k,v as y,u as s,y as f,C as h,E as I,a3 as F,b as G}from"./form-create-D7wT855o.js";const J={class:"mr-2"},K={class:"mr-2"},Q={class:"mr-2"},T={class:"mr-1 flex items-center"},N={class:"mr-2"},W={class:"mr-2"},Y={class:"mr-2"},Z={class:"mr-1 flex items-center"},j=M({name:"HttpRequestParamSetting",__name:"HttpRequestParamSetting",props:{header:{type:Array,required:!1,default:()=>[]},body:{type:Array,required:!1,default:()=>[]},bind:{type:String,required:!0}},setup(r){const v=r,$=L(),i=x=>{x.push({key:"",type:q.FIXED_VALUE,value:""})},w=(x,o)=>{x.splice(o,1)};return(x,o)=>{const n=S,m=O,c=z,_=A,U=P,C=H;return u(),t(b,null,[l(m,{"label-position":"top",label:"\u8BF7\u6C42\u5934"},{default:d(()=>[(u(!0),t(b,null,k(v.header,(a,p)=>(u(),t("div",{class:"flex pt-2",key:p},[y("div",J,[l(m,{prop:`${r.bind}.header.${p}.key`,rules:{required:!0,message:"\u53C2\u6570\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:d(()=>[l(n,{class:"w-160px",modelValue:a.key,"onUpdate:modelValue":e=>a.key=e},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),y("div",K,[l(_,{class:"w-100px!",modelValue:a.type,"onUpdate:modelValue":e=>a.type=e},{default:d(()=>[(u(!0),t(b,null,k(s(R),e=>(u(),f(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),y("div",Q,[l(m,{prop:`${r.bind}.header.${p}.value`,rules:{required:!0,message:"\u53C2\u6570\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:d(()=>[a.type===s(q).FIXED_VALUE?(u(),f(n,{key:0,class:"w-160px",modelValue:a.value,"onUpdate:modelValue":e=>a.value=e},null,8,["modelValue","onUpdate:modelValue"])):h("",!0)]),_:2},1032,["prop"]),l(m,{prop:`${r.bind}.header.${p}.value`,rules:{required:!0,message:"\u53C2\u6570\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}},{default:d(()=>[a.type===s(q).FROM_FORM?(u(),f(_,{key:0,class:"w-160px!",modelValue:a.value,"onUpdate:modelValue":e=>a.value=e},{default:d(()=>[(u(!0),t(b,null,k(s($),(e,V)=>(u(),f(c,{key:V,label:e.title,value:e.field,disabled:!e.required},null,8,["label","value","disabled"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):h("",!0)]),_:2},1032,["prop"])]),y("div",T,[l(U,{icon:"ep:delete",size:18,onClick:e=>w(v.header,p)},null,8,["onClick"])])]))),128)),l(C,{type:"primary",text:"",onClick:o[0]||(o[0]=a=>i(v.header))},{default:d(()=>[l(U,{icon:"ep:plus",class:"mr-5px"}),o[2]||(o[2]=I("\u6DFB\u52A0\u4E00\u884C "))]),_:1})]),_:1}),l(m,{"label-position":"top",label:"\u8BF7\u6C42\u4F53"},{default:d(()=>[(u(!0),t(b,null,k(v.body,(a,p)=>(u(),t("div",{class:"flex pt-2",key:p},[y("div",N,[l(m,{prop:`${r.bind}.body.${p}.key`,rules:{required:!0,message:"\u53C2\u6570\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:d(()=>[l(n,{class:"w-160px",modelValue:a.key,"onUpdate:modelValue":e=>a.key=e},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),y("div",W,[l(_,{class:"w-100px!",modelValue:a.type,"onUpdate:modelValue":e=>a.type=e},{default:d(()=>[(u(!0),t(b,null,k(s(R),e=>(u(),f(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),y("div",Y,[l(m,{prop:`${r.bind}.body.${p}.value`,rules:{required:!0,message:"\u53C2\u6570\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:d(()=>[a.type===s(q).FIXED_VALUE?(u(),f(n,{key:0,class:"w-160px",modelValue:a.value,"onUpdate:modelValue":e=>a.value=e},null,8,["modelValue","onUpdate:modelValue"])):h("",!0)]),_:2},1032,["prop"]),l(m,{prop:`${r.bind}.body.${p}.value`,rules:{required:!0,message:"\u53C2\u6570\u503C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}},{default:d(()=>[a.type===s(q).FROM_FORM?(u(),f(_,{key:0,class:"w-160px!",modelValue:a.value,"onUpdate:modelValue":e=>a.value=e},{default:d(()=>[(u(!0),t(b,null,k(s($),(e,V)=>(u(),f(c,{key:V,label:e.title,value:e.field,disabled:!e.required},null,8,["label","value","disabled"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):h("",!0)]),_:2},1032,["prop"])]),y("div",Z,[l(U,{icon:"ep:delete",size:18,onClick:e=>w(v.body,p)},null,8,["onClick"])])]))),128)),l(C,{type:"primary",text:"",onClick:o[1]||(o[1]=a=>i(v.body))},{default:d(()=>[l(U,{icon:"ep:plus",class:"mr-5px"}),o[3]||(o[3]=I("\u6DFB\u52A0\u4E00\u884C "))]),_:1})]),_:1})],64)}}}),ee={key:0},le={class:"mr-2"},ae={class:"mr-2"},ue={class:"mr-1 pt-1 cursor-pointer"},de=M({__name:"HttpRequestSetting",props:{setting:{type:Object,required:!0},responseEnable:{type:Boolean,required:!0},formItemPrefix:{type:String,required:!0}},emits:["update:setting"],setup(r,{emit:v}){const $=r,{setting:i}=F($),w=v;G(()=>i,o=>{w("update:setting",o)});const x=X();return(o,n)=>{const m=B,c=O,_=S,U=z,C=A,a=P,p=H;return u(),t(b,null,[l(c,null,{default:d(()=>[l(m,{title:"\u4EC5\u652F\u6301 POST \u8BF7\u6C42\uFF0C\u4EE5\u8BF7\u6C42\u4F53\u65B9\u5F0F\u63A5\u6536\u53C2\u6570",type:"warning","show-icon":"",closable:!1})]),_:1}),l(c,{"label-position":"top",label:"\u8BF7\u6C42\u5730\u5740",prop:`${r.formItemPrefix}.url`,rules:{required:!0,message:"\u8BF7\u6C42\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:d(()=>[l(_,{modelValue:s(i).url,"onUpdate:modelValue":n[0]||(n[0]=e=>s(i).url=e)},null,8,["modelValue"])]),_:1},8,["prop"]),l(j,{header:s(i).header,body:s(i).body,bind:r.formItemPrefix},null,8,["header","body","bind"]),r.responseEnable?(u(),t("div",ee,[l(c,{label:"\u8FD4\u56DE\u503C","label-position":"top"},{default:d(()=>[l(m,{title:"\u901A\u8FC7\u8BF7\u6C42\u8FD4\u56DE\u503C, \u53EF\u4EE5\u4FEE\u6539\u6D41\u7A0B\u8868\u5355\u7684\u503C",type:"warning","show-icon":"",closable:!1})]),_:1}),l(c,null,{default:d(()=>[(u(!0),t(b,null,k(s(i).response,(e,V)=>(u(),t("div",{class:"flex pt-2",key:V},[y("div",le,[l(c,{prop:`${r.formItemPrefix}.response.${V}.key`,rules:{required:!0,message:"\u8868\u5355\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:d(()=>[l(C,{class:"w-160px!",modelValue:e.key,"onUpdate:modelValue":g=>e.key=g,placeholder:"\u8BF7\u9009\u62E9\u8868\u5355\u5B57\u6BB5"},{default:d(()=>[(u(!0),t(b,null,k(s(x),(g,E)=>(u(),f(U,{key:E,label:g.title,value:g.field,disabled:!g.required},null,8,["label","value","disabled"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),y("div",ae,[l(c,{prop:`${r.formItemPrefix}.response.${V}.value`,rules:{required:!0,message:"\u8BF7\u6C42\u8FD4\u56DE\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:d(()=>[l(_,{class:"w-160px",modelValue:e.value,"onUpdate:modelValue":g=>e.value=g,placeholder:"\u8BF7\u6C42\u8FD4\u56DE\u5B57\u6BB5"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),y("div",ue,[l(a,{icon:"ep:delete",size:18,onClick:g=>((E,D)=>{E.splice(D,1)})(s(i).response,V)},null,8,["onClick"])])]))),128)),l(p,{type:"primary",text:"",onClick:n[1]||(n[1]=e=>{s(i).response.push({key:"",value:""})})},{default:d(()=>[l(a,{icon:"ep:plus",class:"mr-5px"}),n[2]||(n[2]=I("\u6DFB\u52A0\u4E00\u884C "))]),_:1})]),_:1})])):h("",!0)],64)}}});export{j as _,de as a};
