import{u as C,e as D,d as P}from"./index-DiGvuAxb.js";import{P as R}from"./index-y2Iw13c9.js";import{D as V}from"./index-4TQdK-Zm.js";import{_ as k}from"./ProductDetailsHeader.vue_vue_type_script_setup_true_lang-ShN-JQmR.js";import{_ as T}from"./ProductDetailsInfo.vue_vue_type_script_setup_true_lang-6AmZmT-N.js";import{_ as x}from"./ProductTopic.vue_vue_type_script_setup_true_lang-BguJVOik.js";import{_ as z}from"./index.vue_vue_type_script_setup_true_lang-D0lrTzqH.js";import{u as I}from"./tagsView-B3xQDSQ0.js";import{I as M}from"./ThingModelForm.vue_vue_type_script_setup_true_lang-BxgDqUBW.js";import{a0 as j,$ as H,j as U}from"./form-designer-drfGvdgz.js";import{k as q,r as n,e as G,u as a,l as O,m as s,H as o,z as m,h as S,y as f,C as v,G as $,p as A}from"./form-create-D7wT855o.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-C0SI8VIx.js";import"./ProductForm.vue_vue_type_script_setup_true_lang-CYtn9SFe.js";import"./Dialog.vue_vue_type_style_index_0_lang-WG3ZquOK.js";import"./index-BXHzVmip.js";import"./DictTag.vue_vue_type_script_lang-CByQaegm.js";import"./color-BN7ZL7BD.js";import"./formatTime-DeTj2b0K.js";import"./Table-TXny1z1L.js";import"./tsxHelper-DF5PB49R.js";import"./index.vue_vue_type_script_setup_true_lang-BymgqOtI.js";import"./index-xRJmLA9g.js";import"./config-GFxGHtga.js";import"./DataDefinition.vue_vue_type_script_setup_true_lang-Cl50HVaN.js";import"./ThingModelProperty-D7_ANXxs.js";import"./ThingModelEnumDataSpecs-Bf69QHFi.js";import"./ThingModelNumberDataSpecs-CcPu0L2w.js";import"./ThingModelService-BAlH7ONw.js";import"./ThingModelInputOutputParam-Ce0XaqBO.js";import"./ThingModelEvent-D4M23Mku.js";const B=q({name:"IoTProductDetail",__name:"index",setup(E){const{delView:y}=I(),{currentRoute:_}=C(),d=D(),g=P(),u=d.params.id,p=n(!0),t=n({}),r=n("info");A(M.PRODUCT,t);const c=async l=>{p.value=!0;try{t.value=await R.getProduct(l)}finally{p.value=!1}};return G(async()=>{if(!u)return g.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u4EA7\u54C1\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void y(a(_));await c(u);const{tab:l}=d.query;l&&(r.value=l),t.value.id&&(t.value.deviceCount=await(async e=>{try{return await V.getDeviceCount(e)}catch{return 0}})(t.value.id))}),(l,e)=>{const i=H,b=j,w=U;return s(),O($,null,[o(k,{loading:a(p),product:a(t),onRefresh:e[0]||(e[0]=()=>c(a(u)))},null,8,["loading","product"]),o(w,null,{default:m(()=>[o(b,{modelValue:a(r),"onUpdate:modelValue":e[1]||(e[1]=h=>S(r)?r.value=h:null)},{default:m(()=>[o(i,{label:"\u4EA7\u54C1\u4FE1\u606F",name:"info"},{default:m(()=>[a(r)==="info"?(s(),f(T,{key:0,product:a(t)},null,8,["product"])):v("",!0)]),_:1}),o(i,{label:"Topic \u7C7B\u5217\u8868",name:"topic"},{default:m(()=>[a(r)==="topic"?(s(),f(x,{key:0,product:a(t)},null,8,["product"])):v("",!0)]),_:1}),o(i,{label:"\u529F\u80FD\u5B9A\u4E49",lazy:"",name:"thingModel"},{default:m(()=>[o(z,{ref:"thingModelRef"},null,512)]),_:1}),o(i,{label:"\u6D88\u606F\u89E3\u6790",name:"message"}),o(i,{label:"\u670D\u52A1\u7AEF\u8BA2\u9605",name:"subscription"})]),_:1},8,["modelValue"])]),_:1})],64)}}});export{B as default};
