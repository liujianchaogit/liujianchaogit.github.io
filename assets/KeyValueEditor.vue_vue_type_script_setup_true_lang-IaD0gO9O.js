import{L as f}from"./index-C1TKk8vI.js";import{aD as E,aG as K,k as j,b as B,f as L}from"./form-designer-BpYekVAY.js";import{x as O,r as T,f as v,y as n,z as r,M as k,a4 as g,O as a,F as s,u as p,K as x,L as w}from"./form-create-7GAbgMwl.js";const z=O({name:"KeyValueEditor",__name:"KeyValueEditor",props:{modelValue:{},addButtonText:{}},emits:["update:modelValue"],setup(_,{emit:h}){const c=_,U=h,l=T([]),b=()=>{l.value.push({key:"",value:""}),m()},m=()=>{const u={};l.value.forEach(e=>{e.key&&(u[e.key]=e.value)}),U("update:modelValue",u)};return v(l,m,{deep:!0}),v(()=>c.modelValue,u=>{!f(u)&&f(l.value)&&(l.value=Object.entries(c.modelValue).map(([e,o])=>({key:e,value:o})))}),(u,e)=>{const o=j,V=B,i=L;return n(),r(k,null,[(n(!0),r(k,null,g(p(l),(t,y)=>(n(),r("div",{key:y,class:"flex mb-2 w-full"},[a(o,{modelValue:t.key,"onUpdate:modelValue":d=>t.key=d,class:"mr-2",placeholder:"\u952E"},null,8,["modelValue","onUpdate:modelValue"]),a(o,{modelValue:t.value,"onUpdate:modelValue":d=>t.value=d,placeholder:"\u503C"},null,8,["modelValue","onUpdate:modelValue"]),a(i,{class:"ml-2",text:"",type:"danger",onClick:d=>(C=>{l.value.splice(C,1),m()})(y)},{default:s(()=>[a(V,null,{default:s(()=>[a(p(E))]),_:1}),e[0]||(e[0]=x(" \u5220\u9664 "))]),_:2},1032,["onClick"])]))),128)),a(i,{text:"",type:"primary",onClick:b},{default:s(()=>[a(V,null,{default:s(()=>[a(p(K))]),_:1}),x(" "+w(u.addButtonText),1)]),_:1})],64)}}});export{z as _};
