import{d as q,_ as E}from"./index-C1TKk8vI.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_lang-CrL0kGRz.js";import{_ as O}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CXvvgLEc.js";import{_ as T}from"./index-BhsNgP9o.js";import{_ as X}from"./main.vue_vue_type_script_setup_true_lang-CtGuAjr5.js";import A from"./ImageTable-CAJpq9Z4.js";import{_ as B}from"./VoiceTable.vue_vue_type_script_setup_true_lang-DOsKz6HY.js";import{_ as H}from"./VideoTable.vue_vue_type_script_setup_true_lang-CBco8n3q.js";import x from"./UploadFile-CxOIrDLF.js";import{_ as J}from"./UploadVideo.vue_vue_type_script_setup_true_lang-BMT6lCb0.js";import"./upload-BPssPKhR.js";import{g as L,d as Q}from"./index-CyoqorTW.js";import{U as m}from"./useUpload-B78SiPB2.js";import{ai as R,h as W,i as Y,a0 as Z,f as $,a1 as aa}from"./form-designer-BpYekVAY.js";import{x as ea,r as d,t as la,X as ta,aq as oa,y as _,z as ia,O as l,F as t,u as e,l as P,K as u,G as h,E as z,M as pa}from"./form-create-7GAbgMwl.js";import"./index-KUcy92Cr.js";import"./tagsView-C2oS-OQq.js";import"./main-C07Ho4xi.js";import"./formatTime-EbFUBcAO.js";import"./main.vue_vue_type_script_setup_true_lang-3w2LCMBi.js";const na=ea({__name:"index",setup(ma){const I=q(),r=d(m.Image),s=d(!1),g=d([]),f=d(0),v=d(-1);la("accountId",v);const o=ta({pageNo:1,pageSize:10,accountId:v,permanent:!0}),c=d(!1),C=p=>{v.value=p,o.accountId=p,o.pageNo=1,n()},n=async()=>{s.value=!0;try{const p=await L({...o,type:r.value});g.value=p.list,f.value=p.total}finally{s.value=!1}},D=()=>{g.value=[],f.value=0,o.pageNo=1,n()},y=async p=>{await I.confirm("\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u8BE5\u6587\u4EF6, \u662F\u5426\u7EE7\u7EED?"),await Q(p),I.alertSuccess("\u5220\u9664\u6210\u529F")};return(p,a)=>{const F=T,M=R,j=W,w=O,U=E,b=Y,V=G,N=Z,K=$,k=aa,S=oa("hasPermi");return _(),ia(pa,null,[l(F,{title:"\u516C\u4F17\u53F7\u7D20\u6750",url:"https://doc.iocoder.cn/mp/material/"}),l(w,null,{default:t(()=>[l(j,{class:"-mb-15px",inline:!0,"label-width":"68px"},{default:t(()=>[l(M,{label:"\u516C\u4F17\u53F7",prop:"accountId"},{default:t(()=>[l(e(X),{onChange:C})]),_:1})]),_:1})]),_:1}),l(w,null,{default:t(()=>[l(k,{modelValue:e(r),"onUpdate:modelValue":a[8]||(a[8]=i=>P(r)?r.value=i:null),onTabChange:D},{default:t(()=>[l(N,{name:e(m).Image},{label:t(()=>[l(b,{align:"middle"},{default:t(()=>[l(U,{icon:"ep:picture"}),a[9]||(a[9]=u("\u56FE\u7247 "))]),_:1})]),default:t(()=>[h((_(),z(x,{type:e(m).Image,onUploaded:n},{default:t(()=>a[10]||(a[10]=[u(" \u652F\u6301 bmp/png/jpeg/jpg/gif \u683C\u5F0F\uFF0C\u5927\u5C0F\u4E0D\u8D85\u8FC7 2M ")])),_:1},8,["type"])),[[S,["mp:material:upload-permanent"]]]),l(A,{loading:e(s),list:e(g),onDelete:y},null,8,["loading","list"]),l(V,{total:e(f),page:e(o).pageNo,"onUpdate:page":a[0]||(a[0]=i=>e(o).pageNo=i),limit:e(o).pageSize,"onUpdate:limit":a[1]||(a[1]=i=>e(o).pageSize=i),onPagination:n},null,8,["total","page","limit"])]),_:1},8,["name"]),l(N,{name:e(m).Voice},{label:t(()=>[l(b,{align:"middle"},{default:t(()=>[l(U,{icon:"ep:microphone"}),a[11]||(a[11]=u("\u8BED\u97F3 "))]),_:1})]),default:t(()=>[h((_(),z(x,{type:e(m).Voice,onUploaded:n},{default:t(()=>a[12]||(a[12]=[u(" \u683C\u5F0F\u652F\u6301 mp3/wma/wav/amr\uFF0C\u6587\u4EF6\u5927\u5C0F\u4E0D\u8D85\u8FC7 2M\uFF0C\u64AD\u653E\u957F\u5EA6\u4E0D\u8D85\u8FC7 60s ")])),_:1},8,["type"])),[[S,["mp:material:upload-permanent"]]]),l(B,{list:e(g),loading:e(s),onDelete:y},null,8,["list","loading"]),l(V,{total:e(f),page:e(o).pageNo,"onUpdate:page":a[2]||(a[2]=i=>e(o).pageNo=i),limit:e(o).pageSize,"onUpdate:limit":a[3]||(a[3]=i=>e(o).pageSize=i),onPagination:n},null,8,["total","page","limit"])]),_:1},8,["name"]),l(N,{name:e(m).Video},{label:t(()=>[l(b,{align:"middle"},{default:t(()=>[l(U,{icon:"ep:video-play"}),a[13]||(a[13]=u(" \u89C6\u9891 "))]),_:1})]),default:t(()=>[h((_(),z(K,{type:"primary",plain:"",onClick:a[4]||(a[4]=i=>c.value=!0)},{default:t(()=>a[14]||(a[14]=[u("\u65B0\u5EFA\u89C6\u9891")])),_:1})),[[S,["mp:material:upload-permanent"]]]),l(J,{modelValue:e(c),"onUpdate:modelValue":a[5]||(a[5]=i=>P(c)?c.value=i:null)},null,8,["modelValue"]),l(H,{list:e(g),loading:e(s),onDelete:y},null,8,["list","loading"]),l(V,{total:e(f),page:e(o).pageNo,"onUpdate:page":a[6]||(a[6]=i=>e(o).pageNo=i),limit:e(o).pageSize,"onUpdate:limit":a[7]||(a[7]=i=>e(o).pageSize=i),onPagination:n},null,8,["total","page","limit"])]),_:1},8,["name"])]),_:1},8,["modelValue"])]),_:1})],64)}}});export{na as default};
