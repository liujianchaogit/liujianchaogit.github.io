import{L as v}from"./index-DiGvuAxb.js";import{k as U,f as j,b as B,aC as G,aG as K}from"./form-designer-drfGvdgz.js";import{k as T,r as g,b as y,l as n,m as r,G as f,H as l,$ as w,z as s,E as _,u as p,F as z}from"./form-create-D7wT855o.js";const F=T({name:"KeyValueEditor",__name:"KeyValueEditor",props:{modelValue:{},addButtonText:{}},emits:["update:modelValue"],setup(x,{emit:b}){const c=x,h=b,a=g([]),C=()=>{a.value.push({key:"",value:""}),m()},m=()=>{const u={};a.value.forEach(e=>{e.key&&(u[e.key]=e.value)}),h("update:modelValue",u)};return y(a,m,{deep:!0}),y(()=>c.modelValue,u=>{!v(u)&&v(a.value)&&(a.value=Object.entries(c.modelValue).map(([e,o])=>({key:e,value:o})))}),(u,e)=>{const o=U,V=B,i=j;return r(),n(f,null,[(r(!0),n(f,null,w(p(a),(t,k)=>(r(),n("div",{key:k,class:"flex mb-2 w-full"},[l(o,{modelValue:t.key,"onUpdate:modelValue":d=>t.key=d,class:"mr-2",placeholder:"\u952E"},null,8,["modelValue","onUpdate:modelValue"]),l(o,{modelValue:t.value,"onUpdate:modelValue":d=>t.value=d,placeholder:"\u503C"},null,8,["modelValue","onUpdate:modelValue"]),l(i,{class:"ml-2",text:"",type:"danger",onClick:d=>(E=>{a.value.splice(E,1),m()})(k)},{default:s(()=>[l(V,null,{default:s(()=>[l(p(G))]),_:1}),e[0]||(e[0]=_(" \u5220\u9664 "))]),_:2},1032,["onClick"])]))),128)),l(i,{text:"",type:"primary",onClick:C},{default:s(()=>[l(V,null,{default:s(()=>[l(p(K))]),_:1}),_(" "+z(u.addButtonText),1)]),_:1})],64)}}});export{F as _};
