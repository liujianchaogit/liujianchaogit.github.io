import{u as D,h as P,d as R}from"./index-C1TKk8vI.js";import{P as V}from"./index-DDlNWlg-.js";import{D as x}from"./index-DR2HTwYi.js";import{_ as C}from"./ProductDetailsHeader.vue_vue_type_script_setup_true_lang-8C3ZZZuf.js";import{_ as T}from"./ProductDetailsInfo.vue_vue_type_script_setup_true_lang-CGL66pAj.js";import{_ as j}from"./ProductTopic.vue_vue_type_script_setup_true_lang-BWOBrInQ.js";import{_ as I}from"./index.vue_vue_type_script_setup_true_lang-Bj2fE7iY.js";import{u as M}from"./tagsView-C2oS-OQq.js";import{I as O}from"./ThingModelForm.vue_vue_type_script_setup_true_lang-BZl6y6AM.js";import{a0 as k,a1 as z,j as E}from"./form-designer-BpYekVAY.js";import{x as F,r as p,j as U,u as a,y as s,z as q,O as o,F as m,l as J,E as f,J as v,M as S,t as A}from"./form-create-7GAbgMwl.js";import"./ContentWrap.vue_vue_type_script_setup_true_lang-CXvvgLEc.js";import"./ProductForm.vue_vue_type_script_setup_true_lang-iS3fq9Po.js";import"./Dialog.vue_vue_type_style_index_0_lang-CB5cl-Ts.js";import"./index-_dacQFh7.js";import"./DictTag.vue_vue_type_script_lang-B3VNccaT.js";import"./color-BN7ZL7BD.js";import"./formatTime-EbFUBcAO.js";import"./Table-C1Fbmaqi.js";import"./tsxHelper-C4ukkQNk.js";import"./index.vue_vue_type_script_setup_true_lang-CrL0kGRz.js";import"./index-BGHavkVr.js";import"./config-6hyG0uwh.js";import"./DataDefinition.vue_vue_type_script_setup_true_lang-BTvsCRFS.js";import"./ThingModelProperty-NqM8AZt3.js";import"./ThingModelEnumDataSpecs-Cpv2fbhM.js";import"./ThingModelNumberDataSpecs-COw0Ge1z.js";import"./ThingModelService-C_EkPIPB.js";import"./ThingModelInputOutputParam-D_2QJNpz.js";import"./ThingModelEvent-HZDgEV4h.js";const B=F({name:"IoTProductDetail",__name:"index",setup(G){const{delView:y}=M(),{currentRoute:_}=D(),d=P(),g=R(),u=d.params.id,n=p(!0),t=p({}),r=p("info");A(O.PRODUCT,t);const c=async l=>{n.value=!0;try{t.value=await V.getProduct(l)}finally{n.value=!1}};return U(async()=>{if(!u)return g.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u4EA7\u54C1\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void y(a(_));await c(u);const{tab:l}=d.query;l&&(r.value=l),t.value.id&&(t.value.deviceCount=await(async e=>{try{return await x.getDeviceCount(e)}catch{return 0}})(t.value.id))}),(l,e)=>{const i=k,b=z,w=E;return s(),q(S,null,[o(C,{loading:a(n),product:a(t),onRefresh:e[0]||(e[0]=()=>c(a(u)))},null,8,["loading","product"]),o(w,null,{default:m(()=>[o(b,{modelValue:a(r),"onUpdate:modelValue":e[1]||(e[1]=h=>J(r)?r.value=h:null)},{default:m(()=>[o(i,{label:"\u4EA7\u54C1\u4FE1\u606F",name:"info"},{default:m(()=>[a(r)==="info"?(s(),f(T,{key:0,product:a(t)},null,8,["product"])):v("",!0)]),_:1}),o(i,{label:"Topic \u7C7B\u5217\u8868",name:"topic"},{default:m(()=>[a(r)==="topic"?(s(),f(j,{key:0,product:a(t)},null,8,["product"])):v("",!0)]),_:1}),o(i,{label:"\u529F\u80FD\u5B9A\u4E49",lazy:"",name:"thingModel"},{default:m(()=>[o(I,{ref:"thingModelRef"},null,512)]),_:1}),o(i,{label:"\u6D88\u606F\u89E3\u6790",name:"message"}),o(i,{label:"\u670D\u52A1\u7AEF\u8BA2\u9605",name:"subscription"})]),_:1},8,["modelValue"])]),_:1})],64)}}});export{B as default};
