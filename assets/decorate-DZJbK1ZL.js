import{P as v,_ as y}from"./util-VxtuanPC.js";import{g as f,u as w}from"./page-CRHcERpU.js";import{u as V}from"./tagsView-B3xQDSQ0.js";import{d as g,u as _,e as b}from"./index-DiGvuAxb.js";import{k,r as i,e as P,u as a,y as D,C as U,m as j}from"./form-create-D7wT855o.js";import"./Dialog.vue_vue_type_style_index_0_lang-WG3ZquOK.js";import"./form-designer-drfGvdgz.js";import"./Qrcode-CbGQ2bNY.js";import"./IFrame.vue_vue_type_script_setup_true_lang-ls-ueish.js";import"./vuedraggable.umd-f2FZsIjZ.js";const x=k({name:"DiyPageDecorate",__name:"decorate",setup(C){const s=g(),r=i(!1),e=i(),l=i(),u=async()=>{if(l){r.value=!0;try{await w(a(e)),s.success("\u4FDD\u5B58\u6210\u529F")}finally{r.value=!1}}},{currentRoute:p}=_(),{delView:n}=V(),m=b();return P(()=>{var o;if(e.value={id:void 0,templateId:void 0,name:"",remark:"",previewPicUrls:[],property:""},(o=l.value)==null||o.resetFields(),!m.params.id)return s.warning("\u53C2\u6570\u9519\u8BEF\uFF0C\u9875\u9762\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),void n(a(p));(async t=>{r.value=!0;try{e.value=await f(t)}finally{r.value=!1}})(m.params.id)}),(o,t)=>{const d=y;return a(e)&&!a(r)?(j(),D(d,{key:0,modelValue:a(e).property,"onUpdate:modelValue":t[0]||(t[0]=c=>a(e).property=c),title:a(e).name,libs:a(v),onSave:u},null,8,["modelValue","title","libs"])):U("",!0)}}});export{x as default};
