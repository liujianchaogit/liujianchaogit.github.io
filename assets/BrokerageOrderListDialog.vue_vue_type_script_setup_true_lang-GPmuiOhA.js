import{e as B,D as R,_ as F}from"./index-C1TKk8vI.js";import{_ as Y}from"./Dialog.vue_vue_type_style_index_0_lang-CB5cl-Ts.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_lang-CrL0kGRz.js";import{_ as K}from"./DictTag.vue_vue_type_script_lang-B3VNccaT.js";import{_ as M}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CXvvgLEc.js";import{d as j}from"./formatTime-EbFUBcAO.js";import{g as H}from"./index-Do94XBTJ.js";import{m as q}from"./constants-IYPHa1Ih.js";import{f as P}from"./formatter-Cy2d_MRj.js";import{t as Q,s as X,ai as $,Q as J,x as W,F as Z,f as ee,h as ae,$ as le,af as te,_ as re,aj as se}from"./form-designer-BpYekVAY.js";import{x as oe,r as p,X as ue,y as i,E as v,F as r,O as e,u as l,K as n,z as pe,M as ne,a4 as me,G as de,l as ie}from"./form-create-7GAbgMwl.js";const ce=oe({name:"BrokerageOrderListDialog",__name:"BrokerageOrderListDialog",setup(fe,{expose:T}){const c=p(!0),g=p(0),h=p([]),s=ue({pageNo:1,pageSize:10,userId:null,bizType:q.ORDER.type,sourceUserLevel:0,createTime:[],status:null}),U=p(),m=p(!1);T({open:async o=>{m.value=!0,s.userId=o,w()}});const b=async()=>{c.value=!0;try{const o=await H({...s,sourceUserLevel:s.sourceUserLevel===0?void 0:s.sourceUserLevel});h.value=o.list,g.value=o.total}finally{c.value=!1}},f=()=>{s.pageNo=1,b()},w=()=>{var o;(o=U.value)==null||o.resetFields(),f()};return(o,a)=>{const _=Q,D=X,d=$,L=J,E=W,O=Z,x=F,y=ee,k=ae,V=M,u=le,S=te,z=K,A=re,C=G,I=Y,N=se;return i(),v(I,{modelValue:l(m),"onUpdate:modelValue":a[5]||(a[5]=t=>ie(m)?m.value=t:null),title:"\u63A8\u5E7F\u8BA2\u5355\u5217\u8868",width:"75%"},{default:r(()=>[e(V,null,{default:r(()=>[e(k,{ref_key:"queryFormRef",ref:U,inline:!0,model:l(s),class:"-mb-15px","label-width":"85px"},{default:r(()=>[e(d,{label:"\u7528\u6237\u7C7B\u578B",prop:"sourceUserLevel"},{default:r(()=>[e(D,{modelValue:l(s).sourceUserLevel,"onUpdate:modelValue":a[0]||(a[0]=t=>l(s).sourceUserLevel=t),onChange:f},{default:r(()=>[e(_,{value:0},{default:r(()=>a[6]||(a[6]=[n("\u5168\u90E8")])),_:1}),e(_,{value:1},{default:r(()=>a[7]||(a[7]=[n("\u4E00\u7EA7\u63A8\u5E7F\u4EBA")])),_:1}),e(_,{value:2},{default:r(()=>a[8]||(a[8]=[n("\u4E8C\u7EA7\u63A8\u5E7F\u4EBA")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"\u72B6\u6001",prop:"status"},{default:r(()=>[e(E,{modelValue:l(s).status,"onUpdate:modelValue":a[1]||(a[1]=t=>l(s).status=t),class:"!w-240px",clearable:"",placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001"},{default:r(()=>[(i(!0),pe(ne,null,me(l(B)(l(R).BROKERAGE_RECORD_STATUS),t=>(i(),v(L,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"\u7ED1\u5B9A\u65F6\u95F4",prop:"createTime"},{default:r(()=>[e(O,{modelValue:l(s).createTime,"onUpdate:modelValue":a[2]||(a[2]=t=>l(s).createTime=t),"default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")],class:"!w-240px","end-placeholder":"\u7ED3\u675F\u65E5\u671F","start-placeholder":"\u5F00\u59CB\u65E5\u671F",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","default-time"])]),_:1}),e(d,null,{default:r(()=>[e(y,{onClick:f},{default:r(()=>[e(x,{class:"mr-5px",icon:"ep:search"}),a[9]||(a[9]=n(" \u641C\u7D22 "))]),_:1}),e(y,{onClick:w},{default:r(()=>[e(x,{class:"mr-5px",icon:"ep:refresh"}),a[10]||(a[10]=n(" \u91CD\u7F6E "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(V,null,{default:r(()=>[de((i(),v(A,{data:l(h),"show-overflow-tooltip":!0,stripe:!0},{default:r(()=>[e(u,{align:"center",label:"\u8BA2\u5355\u7F16\u53F7","min-width":"80px",prop:"bizId"}),e(u,{align:"center",label:"\u7528\u6237\u7F16\u53F7","min-width":"80px",prop:"sourceUserId"}),e(u,{align:"center",label:"\u5934\u50CF",prop:"sourceUserAvatar",width:"70px"},{default:r(t=>[e(S,{src:t.row.sourceUserAvatar},null,8,["src"])]),_:1}),e(u,{align:"center",label:"\u6635\u79F0","min-width":"80px",prop:"sourceUserNickname"}),e(u,{formatter:l(P),align:"center",label:"\u4F63\u91D1","min-width":"100px",prop:"price"},null,8,["formatter"]),e(u,{align:"center",label:"\u72B6\u6001","min-width":"85",prop:"status"},{default:r(t=>[e(z,{type:l(R).BROKERAGE_RECORD_STATUS,value:t.row.status},null,8,["type","value"])]),_:1}),e(u,{formatter:l(j),align:"center",label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime",width:"180px"},null,8,["formatter"])]),_:1},8,["data"])),[[N,l(c)]]),e(C,{limit:l(s).pageSize,"onUpdate:limit":a[3]||(a[3]=t=>l(s).pageSize=t),page:l(s).pageNo,"onUpdate:page":a[4]||(a[4]=t=>l(s).pageNo=t),total:l(g),onPagination:b},null,8,["limit","page","total"])]),_:1})]),_:1},8,["modelValue"])}}});export{ce as _};
